"use strict";(self["webpackChunkSensepedia"]=self["webpackChunkSensepedia"]||[]).push([[922],{78078:function(e,l,a){a.r(l),a.d(l,{default:function(){return P}});var o=a(28694),t=a(83487),n=a(38118),p=a(97913),i=a(74560),r=(a(19477),a(12567)),d=a(59531),g=a(36981),u=a(94102),s=a(51832),c=a(85158),b=a(81329),m=a(82365),k=a(32228),v=a(98836),h=a(74913);const f={class:"main"},R={class:"main-top"},F={class:"main-top-nav"},z={class:"main-top-batch"},_={class:"th-s-label"},y={class:"th-s"},V=["src"],w={class:"operations"},C={class:"upload-form"},L=["onClick"],K=["src"],W={class:"dialog-footer"},X={class:"edit-form"},S=["onClick"],U=["src","alt"],x={class:"dialog-footer"},A={class:"detail-form"},E={class:"dialog-footer"};var T=(0,o.pM)({__name:"index",setup(e){const{t:l}=(0,k.s9)(),a=(0,h.Pj)(),{STATES:T,LANGS:I,LangOptions:N,StatusOptions:P}=((0,v.rd)(),(0,s.A)()),Q=[{icon:"story",value:"/images/general-story.svg",title:""},{icon:"notify",value:"/images/general-notify.svg",title:""},{icon:"code",value:"/images/general-code.svg",title:""},{icon:"daily",value:"/images/general-daily.svg",title:""}],q=(0,n.Kh)({reload:!0,loading:!1,list:[],pagination:{total:0,current:1,pageSize:10,sizeChange:()=>{},onChange:e=>{}}}),D=(0,n.KR)([]),{pushQuery:j,queryParams:O}=(0,u.A)("/organize/system/prompt",(async(e,l)=>{q.loading=!0,e.language=e.language||te.value;const a=await(0,m.n_)(e),{rows:o,data:t}=a,n=o||t;q.list=n.map((e=>(e.lang=I[e.language],e))),q.pagination={total:a.total||0,current:Number(e.page)||1,pageSize:Number(e.perPage)||10,sizeChange:async e=>{q.reload=!1,await ae({perPage:e,page:1}),setTimeout((()=>q.reload=!0),400)},onChange:e=>ae({page:e})},q.loading=!1})),B=e=>{D.value=e},G=((0,n.KR)(!0),(0,o.EW)((()=>0===D.value.length)),(0,n.KR)(!1),(0,n.KR)(!1)),H=(0,n.KR)(!1),J=(0,n.Kh)({name:""}),M=(0,n.Kh)({name:[{required:!0,trigger:"blur"}]}),$=(0,n.KR)(!1),Y=(0,n.KR)(!1),Z=(0,n.Kh)({id:0,name:""}),ee=(0,n.Kh)({name:[{required:!0,trigger:"blur"}]}),le=(0,n.KR)(!1),ae=((0,n.KR)({}),async e=>{const l={...ne};j({...l,page:q.pagination.current,perPage:q.pagination.pageSize,...e,refresh:(0,b.pr)(new Date)})}),oe=async()=>{ne.name="",ne.language=te.value,q.reload=!1,await ae({page:1}),setTimeout((()=>q.reload=!0),400)},{defaultLang:te}=(0,c.Ju)(ae),ne=(0,n.Kh)({name:"",language:te.value}),pe=(0,o.EW)((()=>N.filter((e=>"ALL"!==e.value)))),ie=(e,l)=>!0,re=e=>{Z.icon=e.value,J.icon=e.value},de=e=>{Z.id=e.id,Z.title=e.title,Z.content=e.content,Z.description=e.description,Z.language=e.language,Z.icon=e.icon,$.value=!0},ge=async()=>{try{if(Z.id){await(0,m.hc)(Z);i.nk.success(l("page.organizes.docus.editSuccess")),$.value=!1,Z.id="",j({...ne,refresh:(0,b.pr)(new Date)})}else{await(0,m.WQ)(J);i.nk.success(l("page.organizes.docus.addSuccess")),G.value=!1,j({...ne,refresh:(0,b.pr)(new Date)})}}catch(e){console.error(e)}};return(0,o.sV)((async()=>{a.commit("global/setLefter",!0)})),(0,o.hi)((()=>{a.commit("global/setLefter",!1)})),(e,a)=>{const i=(0,o.g2)("el-button"),u=(0,o.g2)("el-option"),s=(0,o.g2)("el-select"),c=(0,o.g2)("el-col"),b=(0,o.g2)("el-row"),m=(0,o.g2)("el-table-column"),k=(0,o.g2)("el-input"),v=(0,o.g2)("el-form-item"),h=(0,o.g2)("el-form"),T=(0,o.g2)("el-dialog"),I=(0,o.gN)("loading");return(0,o.uX)(),(0,o.CE)("div",f,[(0,o.Lk)("div",R,[(0,o.Lk)("div",F,(0,t.v_)((0,n.R1)(l)("page.organizes.prompt.topNav")),1),(0,o.Lk)("div",z,[(0,o.Q3)("",!0),(0,o.Q3)("",!0)])]),q.reload?((0,o.uX)(),(0,o.Wv)(d.A,{key:0,"row-key":"id",data:q.list,loading:q.loading,pagination:q.pagination,onHandleSelection:B},{header:(0,o.k6)((()=>[(0,o.bF)(b,{onKeydown:(0,p.jR)(ae,["enter"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{span:9},{default:(0,o.k6)((()=>[(0,o.Lk)("span",_,(0,t.v_)((0,n.R1)(l)("page.organizes.prompt.th-s-label-lang")),1),(0,o.bF)(s,{modelValue:ne.language,"onUpdate:modelValue":a[0]||(a[0]=e=>ne.language=e),placeholder:(0,n.R1)(l)("page.organizes.prompt.th-s-label-lang-holder")},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(pe.value,(e=>((0,o.uX)(),(0,o.Wv)(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1}),(0,o.bF)(c,{span:15},{default:(0,o.k6)((()=>[(0,o.Lk)("div",y,[(0,o.bF)(i,{class:"th-s-button color-huge border-huge",onClick:oe},{icon:(0,o.k6)((()=>[(0,o.bF)((0,n.R1)(r.A),{type:"pk-refresh"})])),default:(0,o.k6)((()=>[(0,o.eW)(" "+(0,t.v_)((0,n.R1)(l)("page.organizes.prompt.reset")),1)])),_:1}),(0,o.bF)(i,{type:"primary",class:"th-s-button",onClick:ae},{icon:(0,o.k6)((()=>[(0,o.bF)((0,n.R1)(r.A),{type:"pk-search"})])),default:(0,o.k6)((()=>[(0,o.eW)(" "+(0,t.v_)((0,n.R1)(l)("page.organizes.prompt.search")),1)])),_:1})])])),_:1})])),_:1})])),default:(0,o.k6)((()=>[(0,o.bF)(m,{type:"selection",width:"46",selectable:ie}),(0,o.bF)(m,{type:"index",width:"66",label:(0,n.R1)(l)("page.organizes.docus.tb-label-no")},null,8,["label"]),(0,o.bF)(m,{prop:"name",label:(0,n.R1)(l)("page.organizes.prompt.tb-label-name"),width:"200"},{default:(0,o.k6)((({row:e})=>[(0,o.Lk)("span",null,(0,t.v_)(e.title),1)])),_:1},8,["label"]),(0,o.bF)(m,{label:(0,n.R1)(l)("page.organizes.prompt.tb-label-lang"),prop:"lang",width:"160"},null,8,["label"]),(0,o.bF)(m,{label:(0,n.R1)(l)("page.organizes.prompt.tb-label-description"),prop:"description",width:"160"},null,8,["label"]),(0,o.bF)(m,{label:(0,n.R1)(l)("page.organizes.prompt.tb-label-icon"),prop:"icon",width:"100"},{default:(0,o.k6)((({row:e})=>[(0,o.Lk)("img",{src:e.icon,width:"24",height:"24"},null,8,V)])),_:1},8,["label"]),(0,o.bF)(m,{label:(0,n.R1)(l)("page.organizes.prompt.tb-label-content"),prop:"content","min-width":"160"},null,8,["label"]),(0,o.bF)(m,{label:(0,n.R1)(l)("page.organizes.prompt.tb-label-creator"),prop:"createBy",width:"160"},null,8,["label"]),(0,o.bF)(m,{label:(0,n.R1)(l)("page.organizes.prompt.tb-label-createTime"),prop:"createTime",width:"160"},null,8,["label"]),(0,o.bF)(m,{fixed:"right",label:(0,n.R1)(l)("page.organizes.prompt.tb-label-operate"),width:"200"},{default:(0,o.k6)((({row:e,$index:a})=>[(0,o.Lk)("div",w,[(0,o.bF)(i,{type:"text",onClick:l=>de(e)},{default:(0,o.k6)((()=>[(0,o.eW)((0,t.v_)((0,n.R1)(l)("page.organizes.prompt.edit")),1)])),_:2},1032,["onClick"]),(0,o.Q3)("",!0)])])),_:1},8,["label"])])),_:1},8,["data","loading","pagination"])):((0,o.uX)(),(0,o.Wv)(g.A,{key:1})),(0,o.bo)(((0,o.uX)(),(0,o.Wv)(T,{modelValue:G.value,"onUpdate:modelValue":a[6]||(a[6]=e=>G.value=e),title:(0,n.R1)(l)("page.organizes.prompt.uploadTitle"),width:"824"},{footer:(0,o.k6)((()=>[(0,o.Lk)("div",W,[(0,o.bF)(i,{onClick:a[5]||(a[5]=e=>G.value=!1)},{default:(0,o.k6)((()=>[(0,o.eW)((0,t.v_)((0,n.R1)(l)("page.organizes.prompt.cancel")),1)])),_:1}),(0,o.bF)(i,{type:"primary",onClick:ge},{default:(0,o.k6)((()=>[(0,o.eW)((0,t.v_)((0,n.R1)(l)("page.organizes.prompt.submit")),1)])),_:1})])])),default:(0,o.k6)((()=>[(0,o.Lk)("div",C,[(0,o.bF)(h,{ref:"uploadFormRef",model:J,rules:M,"label-width":"100px"},{default:(0,o.k6)((()=>[(0,o.bF)(v,{label:(0,n.R1)(l)("page.organizes.prompt.dialog-label-name"),prop:"title"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{modelValue:J.title,"onUpdate:modelValue":a[1]||(a[1]=e=>J.title=e),placeholder:(0,n.R1)(l)("page.organizes.prompt.dialog-placeholder",{holder:(0,n.R1)(l)("page.organizes.prompt.dialog-label-name")})},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,o.bF)(v,{label:(0,n.R1)(l)("page.organizes.prompt.dialog-label-lang"),prop:"language"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:J.language,"onUpdate:modelValue":a[2]||(a[2]=e=>J.language=e),placeholder:(0,n.R1)(l)("page.organizes.prompt.dialog-placeholder",{holder:(0,n.R1)(l)("page.organizes.prompt.dialog-label-lang")})},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(pe.value,(e=>((0,o.uX)(),(0,o.Wv)(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,o.bF)(v,{label:(0,n.R1)(l)("page.organizes.prompt.dialog-label-icon"),prop:"icon"},{default:(0,o.k6)((()=>[(0,o.bF)(b,null,{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(Q,(e=>(0,o.bF)(c,{span:6,key:e.icon},{default:(0,o.k6)((()=>[(0,o.Lk)("div",{class:(0,t.C4)(["upload-icon",J.icon===e.value?"active":""]),onClick:l=>re(e)},[(0,o.Lk)("img",{src:e.value,width:"24",height:"24"},null,8,K)],10,L)])),_:2},1024))),64))])),_:1})])),_:1},8,["label"]),(0,o.bF)(v,{label:(0,n.R1)(l)("page.organizes.prompt.dialog-label-description"),prop:"description"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{type:"textarea",modelValue:J.description,"onUpdate:modelValue":a[3]||(a[3]=e=>J.description=e),placeholder:(0,n.R1)(l)("page.organizes.prompt.dialog-placeholder",{holder:(0,n.R1)(l)("page.organizes.prompt.dialog-label-description")})},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,o.bF)(v,{label:(0,n.R1)(l)("page.organizes.prompt.dialog-label-content"),prop:"content"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{type:"textarea",modelValue:J.content,"onUpdate:modelValue":a[4]||(a[4]=e=>J.content=e),placeholder:(0,n.R1)(l)("page.organizes.prompt.dialog-placeholder",{holder:(0,n.R1)(l)("page.organizes.prompt.dialog-label-content")})},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","rules"])])])),_:1},8,["modelValue","title"])),[[I,H.value]]),(0,o.bo)(((0,o.uX)(),(0,o.Wv)(T,{modelValue:$.value,"onUpdate:modelValue":a[12]||(a[12]=e=>$.value=e),title:(0,n.R1)(l)("page.organizes.prompt.editTitle"),width:"824"},{footer:(0,o.k6)((()=>[(0,o.Lk)("div",x,[(0,o.bF)(i,{onClick:a[11]||(a[11]=e=>$.value=!1)},{default:(0,o.k6)((()=>[(0,o.eW)((0,t.v_)((0,n.R1)(l)("page.organizes.prompt.cancel")),1)])),_:1}),(0,o.bF)(i,{type:"primary",onClick:ge},{default:(0,o.k6)((()=>[(0,o.eW)((0,t.v_)((0,n.R1)(l)("page.organizes.prompt.submit")),1)])),_:1})])])),default:(0,o.k6)((()=>[(0,o.Lk)("div",X,[(0,o.bF)(h,{ref:"editFormRef",model:Z,rules:ee,"label-width":"100px"},{default:(0,o.k6)((()=>[(0,o.bF)(v,{label:(0,n.R1)(l)("page.organizes.prompt.dialog-label-name"),prop:"title"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{modelValue:Z.title,"onUpdate:modelValue":a[7]||(a[7]=e=>Z.title=e),placeholder:(0,n.R1)(l)("page.organizes.prompt.dialog-placeholder",{holder:(0,n.R1)(l)("page.organizes.prompt.dialog-label-name")})},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,o.bF)(v,{label:(0,n.R1)(l)("page.organizes.prompt.dialog-label-lang"),prop:"language"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{disabled:!0,modelValue:Z.language,"onUpdate:modelValue":a[8]||(a[8]=e=>Z.language=e)},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(pe.value,(e=>((0,o.uX)(),(0,o.Wv)(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["label"]),(0,o.bF)(v,{label:(0,n.R1)(l)("page.organizes.prompt.dialog-label-icon"),prop:"icon"},{default:(0,o.k6)((()=>[(0,o.bF)(b,null,{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(Q,(e=>(0,o.bF)(c,{span:6,key:e.value},{default:(0,o.k6)((()=>[(0,o.Lk)("div",{class:(0,t.C4)(["upload-icon",e.value===Z.icon?"active":""]),onClick:l=>re(e)},[(0,o.Lk)("img",{src:e.value,width:"24",height:"24",alt:e.title},null,8,U)],10,S)])),_:2},1024))),64))])),_:1})])),_:1},8,["label"]),(0,o.bF)(v,{label:(0,n.R1)(l)("page.organizes.prompt.dialog-label-description"),prop:"description"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{type:"textarea",modelValue:Z.description,"onUpdate:modelValue":a[9]||(a[9]=e=>Z.description=e),placeholder:(0,n.R1)(l)("page.organizes.prompt.dialog-placeholder",{holder:(0,n.R1)(l)("page.organizes.prompt.dialog-label-description")})},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,o.bF)(v,{label:(0,n.R1)(l)("page.organizes.prompt.dialog-label-content"),prop:"content"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{type:"textarea",modelValue:Z.content,"onUpdate:modelValue":a[10]||(a[10]=e=>Z.content=e),placeholder:(0,n.R1)(l)("page.organizes.prompt.dialog-holder",{holder:(0,n.R1)(l)("page.organizes.prompt.dialog-label-content")})},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","rules"])])])),_:1},8,["modelValue","title"])),[[I,Y.value]]),(0,o.bF)(T,{modelValue:le.value,"onUpdate:modelValue":a[14]||(a[14]=e=>le.value=e),title:(0,n.R1)(l)("page.organizes.prompt.detailTitle"),width:"824"},{footer:(0,o.k6)((()=>[(0,o.Lk)("div",E,[(0,o.bF)(i,{onClick:a[13]||(a[13]=e=>le.value=!1)},{default:(0,o.k6)((()=>[(0,o.eW)((0,t.v_)((0,n.R1)(l)("page.organizes.prompt.cancel")),1)])),_:1})])])),default:(0,o.k6)((()=>[(0,o.Lk)("div",A,[(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(v,{label:(0,n.R1)(l)("page.organizes.prompt.dialog-label-name"),prop:"name"},{default:(0,o.k6)((()=>[(0,o.eW)((0,t.v_)((0,n.R1)(l)("page.organizes.prompt.dialog-label-name")),1)])),_:1},8,["label"])])),_:1})])])),_:1},8,["modelValue","title"])])}}}),I=a(83940);const N=(0,I.A)(T,[["__scopeId","data-v-d79178b4"]]);var P=N}}]);