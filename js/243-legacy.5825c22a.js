"use strict";(self["webpackChunkCustomsPedia"]=self["webpackChunkCustomsPedia"]||[]).push([[243],{78078:function(e,n,a){a.r(n),a.d(n,{default:function(){return D}});var l=a(28724),t=a(30882),r=a(79266),o=(a(71171),a(96919),a(64536),a(19382),a(58926),a(33434),a(29306),a(10348),a(81619),a(28694)),u=a(83487),i=a(38118),p=a(97913),c=a(74560),d=(a(19477),a(12567)),g=a(47679),s=a(36981),f=a(94102),b=a(51832),m=a(85158),v=a(81329),h=a(82365),k=a(32228),R=a(98836),F=a(74913),z={class:"main"},_={class:"main-top"},w={class:"main-top-nav"},y={class:"main-top-batch"},V={class:"th-s-label"},A={class:"th-s"},C=["src"],x={class:"operations"},L={class:"upload-form"},K=["onClick"],W=["src"],X={class:"dialog-footer"},U={class:"edit-form"},S=["onClick"],E=["src","alt"],T={class:"dialog-footer"},P={class:"detail-form"},I={class:"dialog-footer"},N=(0,o.pM)({__name:"index",setup:function(e){var n=(0,k.s9)(),a=n.t,N=(0,F.Pj)(),Q=((0,R.rd)(),(0,b.A)()),q=(Q.STATES,Q.LANGS),D=Q.LangOptions,j=(Q.StatusOptions,[{icon:"story",value:"/images/general-story.svg",title:""},{icon:"notify",value:"/images/general-notify.svg",title:""},{icon:"code",value:"/images/general-code.svg",title:""},{icon:"daily",value:"/images/general-daily.svg",title:""}]),O=(0,i.Kh)({reload:!0,loading:!1,list:[],pagination:{total:0,current:1,pageSize:10,sizeChange:function(){},onChange:function(e){}}}),B=(0,i.KR)([]),G=(0,f.A)("/organize/system/prompt",function(){var e=(0,r.A)((0,t.A)().mark((function e(n,a){var l,o,u,i;return(0,t.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return O.loading=!0,n.language=n.language||ie.value,e.next=4,(0,h.n_)(n);case 4:l=e.sent,o=l.rows,u=l.data,i=o||u,O.list=i.map((function(e){return e.lang=q[e.language],e})),O.pagination={total:l.total||0,current:Number(n.page)||1,pageSize:Number(n.perPage)||10,sizeChange:function(){var e=(0,r.A)((0,t.A)().mark((function e(n){return(0,t.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return O.reload=!1,e.next=3,re({perPage:n,page:1});case 3:setTimeout((function(){return O.reload=!0}),400);case 4:case"end":return e.stop()}}),e)})));function n(n){return e.apply(this,arguments)}return n}(),onChange:function(e){return re({page:e})}},O.loading=!1;case 10:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),H=G.pushQuery,J=(G.queryParams,function(e){B.value=e}),M=((0,i.KR)(!0),(0,o.EW)((function(){return 0===B.value.length})),(0,i.KR)(!1),(0,i.KR)(!1)),$=(0,i.KR)(!1),Y=(0,i.Kh)({name:""}),Z=(0,i.Kh)({name:[{required:!0,trigger:"blur"}]}),ee=(0,i.KR)(!1),ne=(0,i.KR)(!1),ae=(0,i.Kh)({id:0,name:""}),le=(0,i.Kh)({name:[{required:!0,trigger:"blur"}]}),te=(0,i.KR)(!1),re=((0,i.KR)({}),function(){var e=(0,r.A)((0,t.A)().mark((function e(n){var a;return(0,t.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=(0,l.A)({},pe),H((0,l.A)((0,l.A)((0,l.A)({},a),{},{page:O.pagination.current,perPage:O.pagination.pageSize},n),{},{refresh:(0,v.pr)(new Date)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),oe=function(){var e=(0,r.A)((0,t.A)().mark((function e(){return(0,t.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return pe.name="",pe.language=ie.value,O.reload=!1,e.next=5,re({page:1});case 5:setTimeout((function(){return O.reload=!0}),400);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=(0,m.Ju)(re),ie=ue.defaultLang,pe=(0,i.Kh)({name:"",language:ie.value}),ce=(0,o.EW)((function(){return D.filter((function(e){return"ALL"!==e.value}))})),de=function(e,n){return!0},ge=function(e){ae.icon=e.value,Y.icon=e.value},se=function(e){ae.id=e.id,ae.title=e.title,ae.content=e.content,ae.description=e.description,ae.language=e.language,ae.icon=e.icon,ee.value=!0},fe=function(){var e=(0,r.A)((0,t.A)().mark((function e(){return(0,t.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!ae.id){e.next=11;break}return e.next=4,(0,h.hc)(ae);case 4:e.sent,c.nk.success(a("page.organizes.docus.editSuccess")),ee.value=!1,ae.id="",H((0,l.A)((0,l.A)({},pe),{},{refresh:(0,v.pr)(new Date)})),e.next=17;break;case 11:return e.next=13,(0,h.WQ)(Y);case 13:e.sent,c.nk.success(a("page.organizes.docus.addSuccess")),M.value=!1,H((0,l.A)((0,l.A)({},pe),{},{refresh:(0,v.pr)(new Date)}));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();return(0,o.sV)((0,r.A)((0,t.A)().mark((function e(){return(0,t.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:N.commit("global/setLefter",!0);case 1:case"end":return e.stop()}}),e)})))),(0,o.hi)((function(){N.commit("global/setLefter",!1)})),function(e,n){var l=(0,o.g2)("el-button"),t=(0,o.g2)("el-option"),r=(0,o.g2)("el-select"),c=(0,o.g2)("el-col"),f=(0,o.g2)("el-row"),b=(0,o.g2)("el-table-column"),m=(0,o.g2)("el-input"),v=(0,o.g2)("el-form-item"),h=(0,o.g2)("el-form"),k=(0,o.g2)("el-dialog"),R=(0,o.gN)("loading");return(0,o.uX)(),(0,o.CE)("div",z,[(0,o.Lk)("div",_,[(0,o.Lk)("div",w,(0,u.v_)((0,i.R1)(a)("page.organizes.prompt.topNav")),1),(0,o.Lk)("div",y,[(0,o.Q3)("",!0),(0,o.Q3)("",!0)])]),O.reload?((0,o.uX)(),(0,o.Wv)(g.A,{key:0,"row-key":"id",data:O.list,loading:O.loading,pagination:O.pagination,onHandleSelection:J},{header:(0,o.k6)((function(){return[(0,o.bF)(f,{onKeydown:(0,p.jR)(re,["enter"])},{default:(0,o.k6)((function(){return[(0,o.bF)(c,{span:9},{default:(0,o.k6)((function(){return[(0,o.Lk)("span",V,(0,u.v_)((0,i.R1)(a)("page.organizes.prompt.th-s-label-lang")),1),(0,o.bF)(r,{modelValue:pe.language,"onUpdate:modelValue":n[0]||(n[0]=function(e){return pe.language=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.th-s-label-lang-holder")},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(ce.value,(function(e){return(0,o.uX)(),(0,o.Wv)(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder"])]})),_:1}),(0,o.bF)(c,{span:15},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",A,[(0,o.bF)(l,{class:"th-s-button color-huge border-huge",onClick:oe},{icon:(0,o.k6)((function(){return[(0,o.bF)((0,i.R1)(d.A),{type:"pk-refresh"})]})),default:(0,o.k6)((function(){return[(0,o.eW)(" "+(0,u.v_)((0,i.R1)(a)("page.organizes.prompt.reset")),1)]})),_:1}),(0,o.bF)(l,{type:"primary",class:"th-s-button",onClick:re},{icon:(0,o.k6)((function(){return[(0,o.bF)((0,i.R1)(d.A),{type:"pk-search"})]})),default:(0,o.k6)((function(){return[(0,o.eW)(" "+(0,u.v_)((0,i.R1)(a)("page.organizes.prompt.search")),1)]})),_:1})])]})),_:1})]})),_:1})]})),default:(0,o.k6)((function(){return[(0,o.bF)(b,{type:"selection",width:"46",selectable:de}),(0,o.bF)(b,{type:"index",width:"66",label:(0,i.R1)(a)("page.organizes.docus.tb-label-no")},null,8,["label"]),(0,o.bF)(b,{prop:"name",label:(0,i.R1)(a)("page.organizes.prompt.tb-label-name"),width:"200"},{default:(0,o.k6)((function(e){var n=e.row;return[(0,o.Lk)("span",null,(0,u.v_)(n.title),1)]})),_:1},8,["label"]),(0,o.bF)(b,{label:(0,i.R1)(a)("page.organizes.prompt.tb-label-lang"),prop:"lang",width:"160"},null,8,["label"]),(0,o.bF)(b,{label:(0,i.R1)(a)("page.organizes.prompt.tb-label-description"),prop:"description",width:"160"},null,8,["label"]),(0,o.bF)(b,{label:(0,i.R1)(a)("page.organizes.prompt.tb-label-icon"),prop:"icon",width:"100"},{default:(0,o.k6)((function(e){var n=e.row;return[(0,o.Lk)("img",{src:n.icon,width:"24",height:"24"},null,8,C)]})),_:1},8,["label"]),(0,o.bF)(b,{label:(0,i.R1)(a)("page.organizes.prompt.tb-label-content"),prop:"content","min-width":"160"},null,8,["label"]),(0,o.bF)(b,{label:(0,i.R1)(a)("page.organizes.prompt.tb-label-creator"),prop:"createBy",width:"160"},null,8,["label"]),(0,o.bF)(b,{label:(0,i.R1)(a)("page.organizes.prompt.tb-label-createTime"),prop:"createTime",width:"160"},null,8,["label"]),(0,o.bF)(b,{fixed:"right",label:(0,i.R1)(a)("page.organizes.prompt.tb-label-operate"),width:"200"},{default:(0,o.k6)((function(e){var n=e.row;e.$index;return[(0,o.Lk)("div",x,[(0,o.bF)(l,{type:"text",onClick:function(e){return se(n)}},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.edit")),1)]})),_:2},1032,["onClick"]),(0,o.Q3)("",!0)])]})),_:1},8,["label"])]})),_:1},8,["data","loading","pagination"])):((0,o.uX)(),(0,o.Wv)(s.A,{key:1})),(0,o.bo)(((0,o.uX)(),(0,o.Wv)(k,{modelValue:M.value,"onUpdate:modelValue":n[6]||(n[6]=function(e){return M.value=e}),title:(0,i.R1)(a)("page.organizes.prompt.uploadTitle"),width:"824"},{footer:(0,o.k6)((function(){return[(0,o.Lk)("div",X,[(0,o.bF)(l,{onClick:n[5]||(n[5]=function(e){return M.value=!1})},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.cancel")),1)]})),_:1}),(0,o.bF)(l,{type:"primary",onClick:fe},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.submit")),1)]})),_:1})])]})),default:(0,o.k6)((function(){return[(0,o.Lk)("div",L,[(0,o.bF)(h,{ref:"uploadFormRef",model:Y,rules:Z,"label-width":"100px"},{default:(0,o.k6)((function(){return[(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-name"),prop:"title"},{default:(0,o.k6)((function(){return[(0,o.bF)(m,{modelValue:Y.title,"onUpdate:modelValue":n[1]||(n[1]=function(e){return Y.title=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-placeholder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-name")})},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-lang"),prop:"language"},{default:(0,o.k6)((function(){return[(0,o.bF)(r,{modelValue:Y.language,"onUpdate:modelValue":n[2]||(n[2]=function(e){return Y.language=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-placeholder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-lang")})},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(ce.value,(function(e){return(0,o.uX)(),(0,o.Wv)(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-icon"),prop:"icon"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,null,{default:(0,o.k6)((function(){return[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(j,(function(e){return(0,o.bF)(c,{span:6,key:e.icon},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",{class:(0,u.C4)(["upload-icon",Y.icon===e.value?"active":""]),onClick:function(n){return ge(e)}},[(0,o.Lk)("img",{src:e.value,width:"24",height:"24"},null,8,W)],10,K)]})),_:2},1024)})),64))]})),_:1})]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-description"),prop:"description"},{default:(0,o.k6)((function(){return[(0,o.bF)(m,{type:"textarea",modelValue:Y.description,"onUpdate:modelValue":n[3]||(n[3]=function(e){return Y.description=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-placeholder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-description")})},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-content"),prop:"content"},{default:(0,o.k6)((function(){return[(0,o.bF)(m,{type:"textarea",modelValue:Y.content,"onUpdate:modelValue":n[4]||(n[4]=function(e){return Y.content=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-placeholder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-content")})},null,8,["modelValue","placeholder"])]})),_:1},8,["label"])]})),_:1},8,["model","rules"])])]})),_:1},8,["modelValue","title"])),[[R,$.value]]),(0,o.bo)(((0,o.uX)(),(0,o.Wv)(k,{modelValue:ee.value,"onUpdate:modelValue":n[12]||(n[12]=function(e){return ee.value=e}),title:(0,i.R1)(a)("page.organizes.prompt.editTitle"),width:"824"},{footer:(0,o.k6)((function(){return[(0,o.Lk)("div",T,[(0,o.bF)(l,{onClick:n[11]||(n[11]=function(e){return ee.value=!1})},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.cancel")),1)]})),_:1}),(0,o.bF)(l,{type:"primary",onClick:fe},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.submit")),1)]})),_:1})])]})),default:(0,o.k6)((function(){return[(0,o.Lk)("div",U,[(0,o.bF)(h,{ref:"editFormRef",model:ae,rules:le,"label-width":"100px"},{default:(0,o.k6)((function(){return[(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-name"),prop:"title"},{default:(0,o.k6)((function(){return[(0,o.bF)(m,{modelValue:ae.title,"onUpdate:modelValue":n[7]||(n[7]=function(e){return ae.title=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-placeholder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-name")})},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-lang"),prop:"language"},{default:(0,o.k6)((function(){return[(0,o.bF)(r,{disabled:!0,modelValue:ae.language,"onUpdate:modelValue":n[8]||(n[8]=function(e){return ae.language=e})},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(ce.value,(function(e){return(0,o.uX)(),(0,o.Wv)(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-icon"),prop:"icon"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,null,{default:(0,o.k6)((function(){return[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(j,(function(e){return(0,o.bF)(c,{span:6,key:e.value},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",{class:(0,u.C4)(["upload-icon",e.value===ae.icon?"active":""]),onClick:function(n){return ge(e)}},[(0,o.Lk)("img",{src:e.value,width:"24",height:"24",alt:e.title},null,8,E)],10,S)]})),_:2},1024)})),64))]})),_:1})]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-description"),prop:"description"},{default:(0,o.k6)((function(){return[(0,o.bF)(m,{type:"textarea",modelValue:ae.description,"onUpdate:modelValue":n[9]||(n[9]=function(e){return ae.description=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-placeholder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-description")})},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-content"),prop:"content"},{default:(0,o.k6)((function(){return[(0,o.bF)(m,{type:"textarea",modelValue:ae.content,"onUpdate:modelValue":n[10]||(n[10]=function(e){return ae.content=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-holder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-content")})},null,8,["modelValue","placeholder"])]})),_:1},8,["label"])]})),_:1},8,["model","rules"])])]})),_:1},8,["modelValue","title"])),[[R,ne.value]]),(0,o.bF)(k,{modelValue:te.value,"onUpdate:modelValue":n[14]||(n[14]=function(e){return te.value=e}),title:(0,i.R1)(a)("page.organizes.prompt.detailTitle"),width:"824"},{footer:(0,o.k6)((function(){return[(0,o.Lk)("div",I,[(0,o.bF)(l,{onClick:n[13]||(n[13]=function(e){return te.value=!1})},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.cancel")),1)]})),_:1})])]})),default:(0,o.k6)((function(){return[(0,o.Lk)("div",P,[(0,o.bF)(h,null,{default:(0,o.k6)((function(){return[(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-name"),prop:"name"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.dialog-label-name")),1)]})),_:1},8,["label"])]})),_:1})])]})),_:1},8,["modelValue","title"])])}}}),Q=a(83940);const q=(0,Q.A)(N,[["__scopeId","data-v-d79178b4"]]);var D=q}}]);