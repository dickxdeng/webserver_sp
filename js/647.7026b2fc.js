"use strict";(self["webpackChunkSensepedia"]=self["webpackChunkSensepedia"]||[]).push([[647],{26936:function(e,a,n){n.d(a,{A4:function(){return r},B2:function(){return c},Dr:function(){return d},E1:function(){return b},HV:function(){return g},Rk:function(){return s},SB:function(){return h},Wb:function(){return p},ZE:function(){return u},_I:function(){return m},n_:function(){return t},uQ:function(){return i}});var o=n(2324);const l="/api/v1";async function t(e){return(0,o.A)({url:l+"/knowledge/chatlog/list",method:"POST",data:{...e,pageNum:e.page,pageSize:e.perPage}})}async function i(e){return(0,o.A)({url:l+"/knowledge/chat/download",method:"POST",responseType:"blob",data:e})}async function r(e){return(0,o.A)({url:l+"/system/intellectsessionchatlog/logs/list",method:"POST",data:{...e,pageNum:e.page,pageSize:e.perPage}})}async function g(e){return(0,o.A)({url:l+"/system/documentchatlog/chatlog/list",method:"POST",data:{pageNum:e.page,pageSize:e.perPage,...e}})}async function s(e){return(0,o.A)({url:l+"/system/document-compare/logs/list",method:"POST",data:{pageNum:e.page,pageSize:e.perPage,...e}})}async function p(e){return(0,o.A)({url:l+"/system/intellectsessionchatlog/logs/download",method:"POST",responseType:"blob",data:e})}async function u(e){return(0,o.A)({url:l+"/system/documentchatlog/chatlog/download",method:"POST",responseType:"blob",data:e})}async function d(e){return(0,o.A)({url:l+"/system/document-compare/logs/download",method:"POST",responseType:"blob",data:e})}async function c(){return(0,o.A)({url:l+"/system/user/tree",method:"GET"})}async function m(e){return(0,o.A)({url:l+"/monitor/logininfor/list",method:"GET",params:{pageNum:e.page,pageSize:e.perPage,...e}})}async function b(e){return(0,o.A)({url:l+"/monitor/online/list",method:"GET",params:{pageNum:e.page,pageSize:e.perPage,...e}})}async function h(e){return(0,o.A)({url:l+"/monitor/logininfor/remove",method:"DELETE",data:e})}},9965:function(e,a,n){n.r(a),n.d(a,{default:function(){return _}});var o=n(28694),l=n(83487),t=n(38118),i=n(97913),r=(n(74560),n(19477),n(12567)),g=n(59531),s=n(94102),p=n(26936),u=n(32228),d=n(74913),c=n(98836);const m=e=>((0,o.Qi)("data-v-c8393afa"),e=e(),(0,o.jt)(),e),b={class:"main"},h={class:"main-top"},f={class:"main-top-nav"},y={class:"main-top-online"},z=m((()=>(0,o.Lk)("div",{class:"main-top-batch"},null,-1))),k={class:"th-s-label"},R={class:"th-s-label"},v={class:"th-s"};var w=(0,o.pM)({__name:"log-in",setup(e){const{t:a}=(0,u.s9)(),n=(0,d.Pj)(),m=((0,c.rd)(),(0,t.Kh)({reload:!0,loading:!1,list:[],pagination:{total:0,current:1,pageSize:10,sizeChange:()=>{},onChange:e=>{}}})),w=(0,t.KR)([]),{pushQuery:S,queryParams:F}=(0,s.A)("/organize/system/log-in",(async(e,a)=>{m.loading=!0;const n=await(0,p._I)(e),{rows:o,data:l}=n,t=o||l;m.list=t.map((e=>e)),m.pagination={total:n.total||0,current:e.page,pageSize:e.perPage,sizeChange:e=>A({perPage:e,page:1}),onChange:e=>A({page:e})},m.loading=!1})),_=((0,o.EW)((()=>0===w.value.length)),(0,t.KR)(!1),(0,t.Kh)({loginName:"",ipaddr:""})),P=(0,t.KR)(0),A=((0,t.KR)(!1),(0,t.KR)({name:"",code:"",description:""}),(0,t.Kh)({name:[{required:!0,message:a("page.organizes.config.rules.name"),trigger:"blur"}],code:[{required:!0,message:a("page.organizes.config.rules.code"),trigger:"blur"}],description:[{required:!0,message:a("page.organizes.config.rules.description"),trigger:"blur"}]}),(0,t.KR)(!1),e=>{const a={..._};S({...a,page:m.pagination.current,perPage:m.pagination.pageSize,...e})}),T=()=>{_.loginName="",_.ipaddr="",A({page:1})},N=(e,a)=>!0,L=e=>{w.value=e};return(0,o.sV)((async()=>{n.commit("global/setLefter",!0);const e=await(0,p.E1)({});e&&e.total&&(P.value=e.total||0)})),(0,o.hi)((()=>{n.commit("global/setLefter",!1)})),(e,n)=>{const s=(0,o.g2)("el-input"),p=(0,o.g2)("el-col"),u=(0,o.g2)("el-button"),d=(0,o.g2)("el-row"),c=(0,o.g2)("el-table-column");return(0,o.uX)(),(0,o.CE)("div",b,[(0,o.Lk)("div",h,[(0,o.Lk)("div",f,(0,l.v_)((0,t.R1)(a)("page.organizes.logs.login-topNav")),1),(0,o.Lk)("div",y,(0,l.v_)((0,t.R1)(a)("page.organizes.logs.login-online",{online:P.value})),1),z]),(0,o.bF)(g.A,{"row-key":"roleId",data:m.list,loading:m.loading,pagination:m.pagination,onHandleSelection:L},{header:(0,o.k6)((()=>[(0,o.bF)(d,{onKeydown:(0,i.jR)(A,["enter"])},{default:(0,o.k6)((()=>[(0,o.bF)(p,{span:6},{default:(0,o.k6)((()=>[(0,o.Lk)("span",k,(0,l.v_)((0,t.R1)(a)("page.organizes.logs.login-th-loginName")),1),(0,o.bF)(s,{modelValue:_.loginName,"onUpdate:modelValue":n[0]||(n[0]=e=>_.loginName=e),placeholder:(0,t.R1)(a)("page.organizes.logs.login-th-loginNameHolder")},null,8,["modelValue","placeholder"])])),_:1}),(0,o.bF)(p,{span:6},{default:(0,o.k6)((()=>[(0,o.Lk)("span",R,(0,l.v_)((0,t.R1)(a)("page.organizes.logs.login-th-loginIp")),1),(0,o.bF)(s,{modelValue:_.ipaddr,"onUpdate:modelValue":n[1]||(n[1]=e=>_.ipaddr=e),placeholder:(0,t.R1)(a)("page.organizes.logs.login-th-loginIpHolder")},null,8,["modelValue","placeholder"])])),_:1}),(0,o.bF)(p,{span:12},{default:(0,o.k6)((()=>[(0,o.Lk)("div",v,[(0,o.bF)(u,{onClick:T},{icon:(0,o.k6)((()=>[(0,o.bF)((0,t.R1)(r.A),{type:"pk-refresh"})])),default:(0,o.k6)((()=>[(0,o.eW)(" "+(0,l.v_)((0,t.R1)(a)("page.organizes.logs.login-reset")),1)])),_:1}),(0,o.bF)(u,{type:"primary",onClick:A},{icon:(0,o.k6)((()=>[(0,o.bF)((0,t.R1)(r.A),{type:"pk-search"})])),default:(0,o.k6)((()=>[(0,o.eW)(" "+(0,l.v_)((0,t.R1)(a)("page.organizes.logs.login-search")),1)])),_:1})])])),_:1})])),_:1})])),default:(0,o.k6)((()=>[(0,o.bF)(c,{type:"selection",width:"46",selectable:N}),(0,o.bF)(c,{type:"index",width:"66",label:(0,t.R1)(a)("page.organizes.docus.tb-label-no")},null,8,["label"]),(0,o.bF)(c,{prop:"loginName",label:(0,t.R1)(a)("page.organizes.logs.login-s-loginName"),width:"160"},null,8,["label"]),(0,o.bF)(c,{prop:"status",label:(0,t.R1)(a)("page.organizes.logs.login-s-loginStatus"),width:"160"},null,8,["label"]),(0,o.bF)(c,{prop:"msg",label:(0,t.R1)(a)("page.organizes.logs.login-s-type"),width:"160"},null,8,["label"]),(0,o.bF)(c,{prop:"ipaddr",label:(0,t.R1)(a)("page.organizes.logs.login-s-loginIp"),width:"160"},null,8,["label"]),(0,o.bF)(c,{prop:"loginTime",label:(0,t.R1)(a)("page.organizes.logs.login-s-loginTime"),width:"166"},null,8,["label"]),(0,o.bF)(c,{prop:"loginLocation",label:(0,t.R1)(a)("page.organizes.logs.login-s-loginLocation"),width:"160"},null,8,["label"]),(0,o.bF)(c,{prop:"browser",label:(0,t.R1)(a)("page.organizes.logs.login-s-loginBrowser"),width:"160"},null,8,["label"]),(0,o.bF)(c,{prop:"os",label:(0,t.R1)(a)("page.organizes.logs.login-s-loginSystem"),width:"160"},null,8,["label"])])),_:1},8,["data","loading","pagination"])])}}}),S=n(83940);const F=(0,S.A)(w,[["__scopeId","data-v-c8393afa"]]);var _=F}}]);