"use strict";(self["webpackChunkSensepedia"]=self["webpackChunkSensepedia"]||[]).push([[991],{36981:function(e,t,a){a.d(t,{A:function(){return v}});var n=a(28694),r={class:"main-content-screen"},u={class:"screen-header"},l={class:"header-search"},o={class:"screen-content",ref:"conentRef"},s={class:"content-data",style:{gap:"16px"}},i={class:"screen-footer"},c={class:"footer-pagination"};function d(e,t,a,d,p,f){var g=(0,n.g2)("el-skeleton-item"),v=(0,n.g2)("el-skeleton");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",u,[(0,n.bF)(v,{animated:""},{template:(0,n.k6)((function(){return[(0,n.Lk)("div",l,[(0,n.bF)(g,{variant:"text",style:{height:"28px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px"}})])]})),_:1})]),(0,n.Lk)("div",o,[(0,n.bF)(v,{animated:""},{template:(0,n.k6)((function(){return[(0,n.Lk)("div",s,[(0,n.bF)(g,{variant:"text",style:{height:"28px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px"}})])]})),_:1})],512),(0,n.Lk)("div",i,[(0,n.bF)(v,{animated:""},{template:(0,n.k6)((function(){return[(0,n.Lk)("div",c,[(0,n.bF)(g,{variant:"text",style:{height:"28px",width:"128px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px",width:"128px"}})])]})),_:1})])])}var p=(0,n.pM)({name:"SkeleteTable",setup:function(e,t){}}),f=a(83940);const g=(0,f.A)(p,[["render",d],["__scopeId","data-v-60855484"]]);var v=g},33895:function(e,t,a){a.r(t),a.d(t,{default:function(){return Te}});var n=a(35206),r=a(58712),u=a(51465),l=a(37288),o=a(15400),s=a(71425),i=a(28724),c=a(30882),d=a(79266),p=(a(91234),a(64536),a(20897),a(4500),a(77111),a(19382),a(58926),a(14898),a(33434),a(29306),a(10348),a(35884),a(81619),a(27015),a(94301),a(47715),a(73780),a(50641),a(44480),a(88556),a(11657),a(28694)),f=a(83487),g=a(38118),v=a(97913),h=a(32228),k=a(74560),b=a(19477),m=a(12567),w=a(59531),y=a(36981),x=a(52582),A=a(18684),L=a(94102),S=a(51832),z=a(26497),_=a(81329),R=a(34197),F=a(74913),I=a(98836),C=a(1421),T=a.n(C),W=function(e){return(0,p.Qi)("data-v-0f72f6ec"),e=e(),(0,p.jt)(),e},X={class:"main"},K={class:"main-top"},E={class:"main-top-nav"},D={class:"main-top-batch"},V={class:"th-s-label"},P={class:"th-s-label"},U={class:"th-s-label"},Q={class:"th-s-label"},H={class:"th-s-label"},N={class:"th-s"},j={class:"actions"},q={class:"uploadForm-flex"},M={class:"uploadForm-left"},B={key:0,class:"flex-right"},O=["href"],$={class:"dialog-hint"},G={class:"tag-flex"},Y={class:"upload"},J={class:"upload-plus upload-flex"},Z={class:"upload-text"},ee={class:"upload-hint"},te={key:0},ae={key:1},ne={class:"uploadForm-right"},re={class:"upload-progress-header"},ue={class:"title"},le={class:"hint"},oe={class:"icon"},se={class:"title"},ie={class:"name"},ce={class:"kb"},de={class:"actions"},pe={class:"dialog-footer"},fe={class:"tag-flex"},ge={class:"dialog-footer"},ve={class:"top"},he=W((function(){return(0,p.Lk)("div",{class:"upload-state-icon"},[(0,p.Lk)("img",{src:"/images/upload-state.png",class:"wh92"})],-1)})),ke={class:"upload-state-title"},be={class:"upload-state-success"},me={class:"upload-state-fail"},we={class:"upload-state-expand"},ye={key:0,class:"list"},xe={class:"icon"},Ae={class:"name"},Le={class:"text"},Se={class:"kb"},ze={class:"time"},_e={class:"actions"},Re={class:"preview"},Fe=(0,p.pM)({__name:"index",setup:function(e){var t=(0,h.s9)(),a=t.locale,C=t.t,W=(0,I.rd)(),Fe=(0,F.Pj)(),Ie=(0,p.EW)((function(){return Fe.state.user.currentUser})),Ce=(0,S.A)(),Te=Ce.STATES,We=Ce.TYPES,Xe=Ce.LANGS,Ke=Ce.LangOptions,Ee=Ce.StatusOptions,De=Ce.TypeOptions,Ve=Ce.translateState,Pe=Ce.queryState,Ue=(0,g.Kh)({reload:!0,loading:!1,list:[],pagination:{total:0,current:Fe.state.organize.page,pageSize:Fe.state.organize.perPage,sizes:[10,50,100,1e3],sizeChange:function(){},onChange:function(e){}}}),Qe=(0,g.KR)([]),He=(0,L.A)("/organize/document",function(){var e=(0,d.A)((0,c.A)().mark((function e(t,a){var n,r,u;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Ue.loading=!0,e.next=3,(0,R.n_)(t);case 3:n=e.sent,r=n.rows,u=r||[],Ue.list=u.map((function(e){return e.docTags=(0,z.QV)(e.docTags||""),e.tags=""!==e.docTags?e.docTags.split(","):[],e.type=We[e.docType],e.lang=Xe[e.docLang||"zh-cn"],e.translateState=Ve(e.state,e.parserState),e.parserDetail=3!==e.translateState?e.parserDetail:"Parse Error",e})),Ue.pagination={total:n.total||0,current:t.page,pageSize:t.perPage,sizes:[10,50,100,1e3],sizeChange:function(){var e=(0,d.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Ue.reload=!1,e.next=3,Xt({perPage:t,page:1});case 3:setTimeout((function(){return Ue.reload=!0}),400);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),onChange:function(e){return Xt({page:e})}},yt(),Ue.loading=!1;case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ne=He.pushQuery,je=He.queryParams,qe=function(e){Qe.value=e},Me=(0,p.EW)((function(){return Fe.state.global.openBulkUpload})),Be=(0,p.EW)((function(){return 0===Qe.value.length})),Oe=(0,p.EW)((function(){return 0===Qe.value.length})),$e=(0,p.EW)((function(){return 0===Qe.value.length})),Ge=(0,p.EW)((function(){return 0===Qe.value.length})),Ye=(0,g.KR)(!1),Je=(0,g.KR)(!1),Ze=(0,g.KR)(!1),et=(0,g.KR)(!1),tt=(0,g.KR)(!1),at=(0,g.KR)(!1),nt=(0,g.KR)(null),rt=(0,g.KR)(!1),ut=(0,g.Kh)({id:0,name:"",lang:"",tags:[]}),lt=((0,g.KR)(!1),(0,g.KR)(null),(0,g.KR)(!1)),ot=(0,g.KR)({lang:"1",tags:[],type:"",files:[]}),st=(0,g.KR)(!1),it=(0,g.KR)(null),ct=(0,g.Kh)({lang:[{required:!0,trigger:"change"}],name:[{required:!0,trigger:"blur"}],type:[{required:!0,trigger:"change"}]}),dt=(0,g.Kh)({show:!1,uuid:"",history:{},sourceUrl:"",docName:""}),pt=(0,g.KR)([]),ft=(0,g.Kh)({fileList:[],show:!1,success:0,fail:0,type:"expand"}),gt=(0,g.KR)("/preview/SampleQAData.xlsx"),vt={"File is empty":"The file is empty","Invalid file format":"Non-compliant with QA","Error embedding content":"Error embedding content","Unknown error":"Unknown error"},ht=1,kt=0,bt=function(){var e=(0,d.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:kt&&(clearInterval(kt),kt=0),kt=setInterval((0,d.A)((0,c.A)().mark((function e(){var t,a,n,r;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!1,a=ft.fileList.filter((function(e){var a=e.state,n=e.parserState,r=e.docId,u=Ve(a,n);return 0===u||3===u?(t=!0,!1):!e.error&&((1===u||2===u)&&!(void 0===r||r.length<=10))})).map((function(e){return e.docId})),!(a.length>0)){e.next=15;break}return n={ids:a.join(",")},e.prev=4,e.next=7,(0,R.UL)(n);case 7:r=e.sent,r&&r.data&&ft.fileList.forEach((function(e,n){if(a.includes(e.docId)){var u=r.data.find((function(t){return t.docId===e.docId}));u&&(ft.fileList[n].state=~~u.state,ft.fileList[n].parserState=~~u.parserState,Ue.list.forEach((function(t){t.docId===e.docId&&(t.state=u.state,t.parserState=u.parserState,t.parserDetail=4!==u.parserState?u.parserDetail:"Parse Failed",t.translateState=Ve(t.state,t.parserState),t.updateTime=u.updateTime)})),ft.fileList[n].parserState<=2&&(t=!0))}})),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](4),t=!0,console.log(e.t0);case 15:ft.success=ft.fileList.filter((function(e){return Ve(e.state,e.parserState)<=2})).length,ft.fail=ft.fileList.filter((function(e){return 3===Ve(e.state,e.parserState)})).length,ht++,(!t||ht>600)&&(clearInterval(kt),ht=1,kt=0,ft.show=!1,ft.fileList=[]);case 19:case"end":return e.stop()}}),e,null,[[4,11]])}))),1e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mt=1,wt=0,yt=function(){var e=(0,d.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:wt&&(clearInterval(wt),mt=1),wt=setInterval((0,d.A)((0,c.A)().mark((function e(){var t,a,n,r;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!1,a=Ue.list.filter((function(e){return(1===e.translateState||2===e.translateState||7===e.translateState||9===e.translateState)&&(t=!0,!0)})).map((function(e){return e.docId})),!(a.length>0)){e.next=15;break}return n={ids:a.join(",")},e.prev=4,e.next=7,(0,R.UL)(n);case 7:r=e.sent,r&&r.data&&Ue.list.forEach((function(e,t){if(a.includes(e.docId)){var n=r.data.find((function(t){return t.docId===e.docId}));if(n){var u=~~n.state;7===e.state&&1===u&&k.nk.error(C("page.organizes.docus.reverify")),Ue.list[t].state=u,Ue.list[t].parserState=~~n.parserState,Ue.list[t].translateState=Ve(u,~~n.parserState),Ue.list[t].parserDetail=4!==n.parserState?n.parserDetail:"Parse Failed",Ue.list[t].updateTime=n.updateTime}}})),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](4),t=!0,console.log(e.t0);case 15:mt++,(!t||mt>600)&&(clearInterval(wt),mt=1,wt=0);case 17:case"end":return e.stop()}}),e,null,[[4,11]])}))),6e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xt=1,At=0,Lt=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:At&&(clearInterval(At),xt=1),At=setInterval((0,d.A)((0,c.A)().mark((function e(){var a,n,r,u;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=!1,n=Ue.list.filter((function(e){return!(!t.includes(e.docId)||4!==e.translateState)&&(a=!0,!0)})).map((function(e){return e.docId})),r={ids:n.join(",")},e.next=5,(0,R.UL)(r);case 5:u=e.sent,u&&u.data&&Ue.list.forEach((function(e,t){if(n.includes(e.docId)){var a=u.data.find((function(t){return t.docId===e.docId}));a&&(Ue.list[t].state=~~a.state,Ue.list[t].parserState=~~a.parserState,Ue.list[t].translateState=Ve(Ue.list[t].state,Ue.list[t].parserState))}})),xt++,(!a||xt>60)&&(clearInterval(At),xt=1,At=0);case 9:case"end":return e.stop()}}),e)}))),1e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=(0,g.KR)(""),zt=(0,g.KR)(!1),_t=((0,g.KR)(),(0,g.KR)(["Tag","T","A","G"])),Rt=(0,g.KR)([]),Ft=["primary","info","warning","error","warning","primary","success","success"],It=(0,g.Kh)([{label:"全部",value:"ALL"},{label:"医学",value:"医学"},{label:"财经",value:"财经"},{label:"保险",value:"保险"},{label:"其他",value:"其他"}]),Ct=(0,g.Kh)(Fe.state.organize.searchInput),Tt=(0,p.EW)((function(){return Ke.filter((function(e){return"ALL"!==e.value}))})),Wt=(0,p.EW)((function(){return De.filter((function(e){return"ALL"!==e.value}))})),Xt=((0,p.EW)((function(){return It.filter((function(e){return"ALL"!==e.value}))})),function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var a;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=(0,i.A)((0,i.A)((0,i.A)((0,i.A)({},Ct),Pe(Ct.state)),{},{perPage:Ue.pagination.pageSize,page:Ue.pagination.current},t),{},{refresh:(0,_.pr)(new Date)}),"ALL"===a.docLang&&delete a.docLang,"ALL"===a.docType&&delete a.docType,"ALL"===a.docTags&&delete a.docTags,delete a.state,delete a.parserState,Ne(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Kt=function(){var e=(0,d.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Ct.docName="",Ct.docLang="ALL",Ct.state=0,Ct.docType="ALL",Ct.docTags="ALL",Ue.reload=!1,e.next=8,Xt({page:1});case 8:setTimeout((function(){return Ue.reload=!0}),400);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Xt({}),(0,p.nT)((function(){var e=[];je.value.categoryId&&je.value.categoryId.split(",").map((function(t){t&&e.push(Number(t))}));var t={keywords:je.value.keywords||"",category:e,datetime:je.value.startTime&&je.value.endTime?[je.value.startTime,je.value.endTime]:[],tags:je.value.tags?je.value.tags.split(","):[]};Ct.name=t.keywords}));var Et=function(){var e=(0,d.A)((0,c.A)().mark((function e(){var t,a;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(t=nt.value)||void 0===t||t.toggleSelect([6]),Qe.value=Qe.value.filter((function(e){return 6===e.translateState})),0!==Qe.value.length){e.next=5;break}return k.nk.error(C("page.organizes.docus.selectHint")),e.abrupt("return");case 5:a="<p>".concat(C("page.organizes.docus.batchStopHintDetail"),"</p>"),b.s.confirm(a,C("page.organizes.docus.hint"),{dangerouslyUseHTMLString:!0,confirmButtonText:C("page.organizes.docus.buttonSubmit"),cancelButtonText:C("page.organizes.docus.buttonCancel"),type:"warning"}).then((0,d.A)((0,c.A)().mark((function e(){var t,a;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Ze.value=!0,t=Qe.value.map((function(e){return e.docId})),a=t.join(","),e.next=5,(0,R.ds)({ids:a});case 5:e.sent,k.nk.success(C("page.organizes.successMessage")),Ze.value=!1,Xt({refresh:(0,_.pr)(new Date)});case 9:case"end":return e.stop()}}),e)})))).catch((function(){Ze.value=!1}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Dt=function(){var e=(0,d.A)((0,c.A)().mark((function e(){var t,a,n,r;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(t=nt.value)||void 0===t||t.toggleSelect([5,8]),Qe.value=Qe.value.filter((function(e){return 5===e.translateState||8===e.translateState})),0!==Qe.value.length){e.next=5;break}return k.nk.error(C("page.organizes.docus.selectHint")),e.abrupt("return");case 5:Je.value=!0,a=1,Qe.value.map(function(){var e=(0,d.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(2!==t.docType){e.next=6;break}return e.next=3,(0,R.P)(t.docId,void 0,void 0);case 3:return e.next=5,(0,R.lD)({docId:t.docId});case 5:a++;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n=Qe.value.map((function(e){return e.docId})),r=n.join(","),setTimeout((0,d.A)((0,c.A)().mark((function e(){var t;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.mk)({ids:r});case 2:if(t=e.sent,!t||500!==~~t.code){e.next=8;break}if("resplit"!==t.msg){e.next=8;break}return Je.value=!1,k.nk.error("Please verify first before clicking 'Publish'"),e.abrupt("return");case 8:k.nk.success(C("page.organizes.successMessage")),Je.value=!1,yt(),Xt({});case 12:case"end":return e.stop()}}),e)}))),1e3*a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vt=function(){var e=(0,d.A)((0,c.A)().mark((function e(){var t;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==Qe.value.length){e.next=3;break}return k.nk.error(C("page.organizes.docus.selectHint")),e.abrupt("return");case 3:t="<p>".concat(C("page.organizes.docus.batchDeleteHintDetail"),"</p>"),b.s.confirm(t,C("page.organizes.docus.hint"),{dangerouslyUseHTMLString:!0,confirmButtonText:C("page.organizes.docus.buttonSubmit"),cancelButtonText:C("page.organizes.docus.buttonCancel"),customClass:"del-message-box",type:"warning"}).then((0,d.A)((0,c.A)().mark((function e(){var t,a;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Ye.value=!0,Qe.value.map((function(e){return Ue.list.find((function(t){return t.docId===e.docId})).translateState=-1})),Qe.value.map((function(e){var t=Ue.list.findIndex((function(t){return t.docId===e.docId}));-1!==t&&(Ue.list.splice(t,1),Ue.pagination.total--)})),t=Qe.value.map((function(e){return e.docId})),a=t.join(","),e.next=7,(0,R.TF)({docIds:a});case 7:e.sent,k.nk.success(C("page.organizes.docus.deleteSuccess")),Ye.value=!1,Xt({refresh:(0,_.pr)(new Date)});case 11:case"end":return e.stop()}}),e)})))).catch((function(){Ye.value=!1}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pt=function(e){console.error(e)},Ut=function(e){},Qt=function(e){null===e||void 0===e||e.stopPropagation(),zt.value=!1,St.value=""},Ht=function(){var e=(0,d.A)((0,c.A)().mark((function e(){var t,a;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(t=nt.value)||void 0===t||t.toggleSelect([4]),Qe.value=Qe.value.filter((function(e){return 4===e.translateState})),0!==Qe.value.length){e.next=5;break}return k.nk.error(C("page.organizes.docus.selectHint")),e.abrupt("return");case 5:et.value=!0,1,Qe.value.map(function(){var e=(0,d.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.P)(t.docId,void 0,void 0);case 2:return e.next=4,(0,R.lD)({docId:t.docId});case 4:0;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a=Qe.value.map((function(e){return e.docId})),Lt(a),Xt({}),et.value=!1;case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=(0,d.A)((0,c.A)().mark((function e(){var t;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.q7)();case 2:t=e.sent,t.data.progress&&t.data.admin!==Ie.value.name?k.nk.error(C("page.organizes.docus.batchQuickHint")):W.push({path:"/organize/quick"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var a;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(ft.fileList.filter((function(e){return 4!==e.parserState})).length>0)){e.next=3;break}return k.nk.error("The document is being uploaded, please process it later."),e.abrupt("return");case 3:ot.value.type="text"===t?"1":"2",ot.value.typeStr=null===(a=Wt.value.find((function(e){return e.value===ot.value.type})))||void 0===a?void 0:a.label,ot.value.typeStr="2"===ot.value.type?ot.value.typeStr+" ("+C("page.organizes.docus.dialogXlsxHint")+")":ot.value.typeStr,ot.value.lang="zh-cn",ot.value.tags=[],ot.value.files=[],pt.value=[],tt.value=!1,lt.value=!0;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=function(e){rt.value=!0,ut.row=e,ut.docId=e.docId,ut.name=e.docName,ut.lang=e.docLang,ut.tags=e.docTags?e.docTags.split(","):[]},Mt=function(){var e=(0,d.A)((0,c.A)().mark((function e(){var t;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=ut.lang&&ut.name,t){e.next=4;break}return k.nk.error(C("page.organizes.docus.errorForm")),e.abrupt("return");case 4:return e.next=6,(0,R.hc)({docId:ut.docId,docLang:ut.lang,docName:ut.name,docTags:ut.tags.join(",")});case 6:da(),k.nk.success(C("page.organizes.successMessage")),ut.row.docName=ut.name,ut.row.docLang=ut.lang,ut.row.docTags=ut.tags.join(","),ut.row.tags=ut.tags,ut.row.lang=Xe[ut.lang],rt.value=!1;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Bt=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.P)(t.docId,"preview",null);case 2:dt.show=!0,dt.uuid=t.docId,dt.sourceUrl=t.sourceFile,dt.docName=t.docName;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t["reParseLoading"]=!0,(0,R.Ty)({docId:t.docId}).then((function(e){t["reParseLoading"]=!1})),t.translateState=2,yt();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$t=function(e){W.push({path:"/organize/document/preview/"+e.docId+"?split=1",query:{split:1}})},Gt=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var a,n,r;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.bc)({docId:t.docId});case 2:a=e.sent,null!==a&&void 0!==a&&a.data?(n=C("page.organizes.docus.splitDetail"),r=C("page.organizes.docus.hint"),b.s.confirm(n,r,{confirmButtonText:C("page.organizes.docus.buttonSubmit"),cancelButtonText:C("page.organizes.docus.buttonCancel"),type:"warning"}).then((function(){W.push({path:"/organize/document/preview/"+t.docId})}))):W.push({path:"/organize/document/preview/"+t.docId});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var a;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.mk)({ids:t.docId});case 2:if(a=e.sent,!a||500!==~~a.code){e.next=9;break}if(at.value=!1,"resplit"!==a.msg){e.next=9;break}return t["hide"]=!0,k.nk.error("Please verify first before clicking 'Publish'"),e.abrupt("return");case 9:if(!a||200===~~a.code){e.next=14;break}return k.nk.error("System Error "+a.msg),at.value=!1,t["publishLoading"]=!1,e.abrupt("return");case 14:t.state=7,t.translateState=7,t["publishLoading"]=!1,at.value=!1,yt();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!at.value){e.next=3;break}return k.nk.error("Document publishing in progress. Please try again later."),e.abrupt("return");case 3:return at.value=!0,t["publishLoading"]=!0,t["hide"]=!1,e.prev=6,e.next=9,(0,R.P)(t.docId,void 0,void 0);case 9:if(2!==t.docType){e.next=14;break}return e.next=12,(0,R.lD)({docId:t.docId});case 12:return setTimeout((0,d.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Yt(t);case 1:case"end":return e.stop()}}),e)}))),1e3),e.abrupt("return");case 14:Yt(t),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](6),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}(),Zt=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var a,n;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.pq)({docId:t.docId});case 2:if(a=e.sent,t.knowledgeCount=(null===a||void 0===a?void 0:a.data.length)||0,0!==t.knowledgeCount){e.next=11;break}return e.next=7,(0,R.ds)({ids:t.docId});case 7:return k.nk.success(C("page.organizes.successMessage")),t.state=4,t.translateState=5,e.abrupt("return");case 11:n="<p>".concat(C("page.organizes.docus.stopHintDetail",{knowledgeCount:t.knowledgeCount}),"</p>"),null===a||void 0===a||a.data.map((function(e){n+='<el-tag class="el-tag el-tag--success__hint el-tag--light color-huge">'.concat(e.knowledgeName,"</el-tag> ")})),b.s.confirm(n,C("page.organizes.docus.hint"),{dangerouslyUseHTMLString:!0,confirmButtonText:C("page.organizes.docus.buttonSubmit"),cancelButtonText:C("page.organizes.docus.buttonCancel"),customClass:"del-message-box",type:"warning"}).then((0,d.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.ds)({ids:t.docId});case 2:k.nk.success(C("page.organizes.successMessage")),t.state=4,t.translateState=5;case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ea=function(e,t){return e.translateState>0},ta=function(e){return e.name.includes(".xls")?"pk-xlsx":e.name.includes(".md")?"pk-md":e.name.includes(".doc")?"pk-docx":e.name.includes(".ppt")||e.name.includes(".txt")?"pk-txt":"pk-pdf"};(0,p.nT)((function(){"zh-CN"===a.value||"zh-TW"===a.value?gt.value="/preview/SampleQAData.xlsx":gt.value="/preview/SampleQAData-EN.xlsx"}));var aa=function(e){if(""===ot.value.type)return k.nk.error(C("page.organizes.docus.errorType")),!1;var t=e.name.replace(/.+\./,"");if(2===~~ot.value.type&&!["xlsx"].includes(t))return k.nk.error('Please upload "QA" documents, including XLSX files.'),!1;if(2!==~~ot.value.type&&!["docx","pdf","md","txt"].includes(t))return k.nk.error('Please upload "text" documents, including PDF, DOCX, MD and TXT files.'),!1;var a=e.name;if(a.match(/\[|\]|\^|\$|￥/g))return k.nk.error("Please do not use special characters in the file name."),!1;var n=104857600;return n<e.size?(k.nk.error("Exceed Limit 100M"+e.name),!1):(tt.value=!0,!0)},na=function(){k.nk.error(C("page.organizes.docus.exceedLimit",{limit:10}))},ra=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ua=function(e){pt.value.splice(e,1)},la=function(e){ft.fileList.splice(e,1),0===ft.fileList.length&&(ft.show=!1)},oa=function(e){return new Promise((function(t,a){var n=new FileReader(e);n.readAsText(e,"utf-8"),n.onload=function(e){var a=e.target.result,n=T().MD5(a).toString(T().enc.Hex);t(n)}}))},sa=function(){var e=(0,d.A)((0,c.A)().mark((function e(){var t,a,n,r;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:ot.value.tags.length>0&&ot.value.type&&ot.value.lang,st.value=!0,ft.fileList=[],ft.success=0,ft.fail=0,ft.type="expand",t=[],a=[],n=(0,c.A)().mark((function e(n){var r,u;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("docTags",ot.value.tags.join(",")),r.append("docType",ot.value.type),r.append("docLang",ot.value.lang),r.append("file",pt.value[n].raw),e.next=7,oa(pt.value[n].raw);case 7:if(u=e.sent,!t.includes(u)){e.next=11;break}return k.nk.error(C("page.organizes.docus.fileDup")+pt.value[n].name),e.abrupt("return",1);case 11:t.push(u),ft.fileList[n]={state:0,parserState:-1,uploadedAt:(0,_.pr)(new Date),name:pt.value[n].name,raw:pt.value[n].raw,md5:u,size:pt.value[n].size},ft.success=ft.fileList.filter((function(e){return Ve(e.state,e.parserState)<=2})).length,ft.fail=ft.fileList.filter((function(e){return 3===Ve(e.state,e.parserState)})).length,a.push(new Promise((function(e,t){(function(a,n){(0,R.WQ)(n).then((function(r){if(da(),r&&"object"===(0,s.A)(r.data)){if(1===r.data.code||5===r.data.code)return ft.fileList[a].parserState=4,ft.fileList[a].error=C("page.organizes.docus.fileDup"),k.nk.error(C("page.organizes.docus.fileDup")+n.get("file").name),void e();r&&200!==r.code?(ft.fileList[a].parserState=4,ft.fileList[a].error=r.msg,t()):r&&r.data&&(r.data.lang=Xe[r.data.docLang],r.data.type=We[r.data.docType],r.data.tags=r.data.docTags?r.data.docTags.split(","):[],r.data.translateState=Ve(r.data.state,r.data.parserState),r.data.parserDetail=3!==r.data.translateState?r.data.parserDetail:"Parse Failed",Ue.list.unshift(r.data),Ue.pagination.total++,yt(),ft.fileList[a]&&(ft.fileList[a].docId=r.data.docId,ft.fileList[a].state=r.data.state>0?r.data.state:1,ft.fileList[a].parserState=r.data.parserState?r.data.parserState:4),Ve(ft.fileList[a].state,ft.fileList[a].parserState)>=4&&(0,R.P)(r.data.docId),3===Ve(ft.fileList[a].state,ft.fileList[a].parserState)&&delete ft.fileList[a],k.nk.success(C("page.organizes.docus.uploadSuccess")+n.get("file").name)),e()}else r&&200!==r.code&&(ft.fileList[a].parserState=4,ft.fileList[a].error=r.msg,t())})).catch((function(e){ft.fileList[a].parserState=4,ft.fileList[a].error=e.msg,t()}))})(n,r)})));case 16:case"end":return e.stop()}}),e)})),r=0;case 10:if(!(r<pt.value.length)){e.next=17;break}return e.delegateYield(n(r),"t0",12);case 12:if(!e.t0){e.next=14;break}return e.abrupt("continue",14);case 14:r++,e.next=10;break;case 17:return pt.value=[],ot.value.tags=[],st.value=!1,lt.value=!1,ft.show=!0,bt(),e.prev=23,e.next=26,Promise.all(a);case 26:e.next=31;break;case 28:e.prev=28,e.t1=e["catch"](23),console.error(e.t1);case 31:case"end":return e.stop()}}),e,null,[[23,28]])})));return function(){return e.apply(this,arguments)}}(),ia=function(){var e=(0,d.A)((0,c.A)().mark((function e(t,a){var n,r;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.pq)({docId:a.docId});case 2:return n=e.sent,a.knowledgeCount=n&&n.data?n.data.length:0,r="<p>".concat(C("page.organizes.docus.deleteHintDetail",{knowledgeCount:a.knowledgeCount}),"</p>"),null===n||void 0===n||n.data.map((function(e){r+='<el-tag class="el-tag el-tag--success__hint el-tag--light color-huge">'.concat(e.knowledgeName,"</el-tag> ")})),a.hintHtml=r,e.next=9,ca(t,a);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ca=function(){var e=(0,d.A)((0,c.A)().mark((function e(t,a){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Ue.list[t]["delLoading"]=!0;try{b.s.confirm(a.hintHtml,C("page.organizes.docus.hint"),{dangerouslyUseHTMLString:!0,confirmButtonText:C("page.organizes.docus.buttonSubmit"),cancelButtonText:C("page.organizes.docus.buttonCancel"),customClass:"del-message-box",type:"warning"}).then((0,d.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.TF)({docIds:a.docId});case 2:k.nk.success(C("page.organizes.docus.deleteSuccess")),Ue.list.length>1?Ue.list.splice(t,1):Xt({refresh:(0,_.pr)(new Date)});case 4:case"end":return e.stop()}}),e)})))).catch((function(){Ue.list[t]["delLoading"]=!1}))}catch(n){k.nk.warning(n.msg||n||"error"),Ue.list[t]["delLoading"]=!1}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();(0,p.sV)((0,d.A)((0,c.A)().mark((function e(){var t;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return yt(),da(),e.next=4,(0,R.q7)();case 4:t=e.sent,t&&t.data.progress&&W.push({path:"/organize/quick"});case 6:case"end":return e.stop()}}),e)})))),(0,p.hi)((function(){Fe.commit("organize/settingState",{searchInput:Ct,page:Ue.pagination.current,perPage:Ue.pagination.pageSize}),clearInterval(kt),clearInterval(wt),clearInterval(At)}));var da=function(){(0,R.Q2)().then((function(e){_t.value=e.data,Rt.value=["ALL"].concat((0,o.A)(e.data))}))},pa=function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];a&&clearTimeout(a),a=setTimeout((function(){e.apply(void 0,r)}),t)}},fa=window.ResizeObserver;return window.ResizeObserver=function(e){function t(e){return(0,r.A)(this,t),e=pa(e,100),(0,u.A)(this,t,[e])}return(0,l.A)(t,e),(0,n.A)(t)}(fa),window.onbeforeunload=function(){if(ft.fileList.length)return C("page.organizes.docus.unload")},window.addEventListener("beforeunload",(function(e){ft.fileList.length&&(e.returnValue=C("page.organizes.docus.unload"))})),function(e,t){var a=(0,p.g2)("el-button"),n=(0,p.g2)("el-dropdown-item"),r=(0,p.g2)("el-dropdown-menu"),u=(0,p.g2)("el-dropdown"),l=(0,p.g2)("el-input"),o=(0,p.g2)("el-col"),s=(0,p.g2)("el-option"),i=(0,p.g2)("el-select"),c=(0,p.g2)("el-row"),d=(0,p.g2)("el-table-column"),h=(0,p.g2)("el-tag"),k=(0,p.g2)("el-tooltip"),b=(0,p.g2)("el-form-item"),L=(0,p.g2)("el-radio"),S=(0,p.g2)("el-radio-group"),z=(0,p.g2)("el-upload"),_=(0,p.g2)("el-form"),R=(0,p.g2)("el-dialog"),F=(0,p.gN)("loading");return(0,p.uX)(),(0,p.CE)("div",X,[(0,p.Lk)("div",K,[(0,p.Lk)("div",E,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.topNav")),1),(0,p.Lk)("div",D,[(0,p.bF)(a,{type:"primary",onClick:t[0]||(t[0]=function(e){return jt("qa")})},{icon:(0,p.k6)((function(){return[(0,p.bF)((0,g.R1)(m.A),{type:"pk-plus"})]})),default:(0,p.k6)((function(){return[(0,p.eW)(" "+(0,f.v_)((0,g.R1)(C)("page.organizes.docus.addQa")),1)]})),_:1}),(0,p.bF)(a,{type:"primary",onClick:t[1]||(t[1]=function(e){return jt("text")})},{icon:(0,p.k6)((function(){return[(0,p.bF)((0,g.R1)(m.A),{type:"pk-plus"})]})),default:(0,p.k6)((function(){return[(0,p.eW)(" "+(0,f.v_)((0,g.R1)(C)("page.organizes.docus.addText")),1)]})),_:1}),Me.value?((0,p.uX)(),(0,p.Wv)(a,{key:0,onClick:Nt},{icon:(0,p.k6)((function(){return[(0,p.bF)((0,g.R1)(m.A),{type:"pk-quickpage"})]})),default:(0,p.k6)((function(){return[(0,p.eW)(" "+(0,f.v_)((0,g.R1)(C)("page.organizes.docus.batchQuick")),1)]})),_:1})):(0,p.Q3)("",!0),(0,p.bF)(u,null,{dropdown:(0,p.k6)((function(){return[(0,p.bF)(r,null,{default:(0,p.k6)((function(){return[(0,p.bo)(((0,p.uX)(),(0,p.Wv)(n,{disabled:Ge.value,onClick:Ht},{default:(0,p.k6)((function(){return[(0,p.bF)((0,g.R1)(m.A),{class:"mr",type:"pk-batchstop"}),(0,p.eW)(" "+(0,f.v_)((0,g.R1)(C)("page.organizes.docus.batchConfirm")),1)]})),_:1},8,["disabled"])),[[F,et.value]]),(0,p.bo)(((0,p.uX)(),(0,p.Wv)(n,{disabled:Oe.value,onClick:Dt},{default:(0,p.k6)((function(){return[(0,p.bF)((0,g.R1)(m.A),{class:"mr",type:"pk-batchstop"}),(0,p.eW)(" "+(0,f.v_)((0,g.R1)(C)("page.organizes.docus.batchPublish")),1)]})),_:1},8,["disabled"])),[[F,Je.value]]),(0,p.bo)(((0,p.uX)(),(0,p.Wv)(n,{disabled:$e.value,onClick:Et},{default:(0,p.k6)((function(){return[(0,p.bF)((0,g.R1)(m.A),{class:"mr",type:"pk-batchpublish"}),(0,p.eW)(" "+(0,f.v_)((0,g.R1)(C)("page.organizes.docus.batchStop")),1)]})),_:1},8,["disabled"])),[[F,Ze.value]]),(0,p.bo)(((0,p.uX)(),(0,p.Wv)(n,{disabled:Be.value,onClick:Vt},{default:(0,p.k6)((function(){return[(0,p.bF)((0,g.R1)(m.A),{class:"mr",type:"pk-batchdelete"}),(0,p.eW)(" "+(0,f.v_)((0,g.R1)(C)("page.organizes.docus.batchDel")),1)]})),_:1},8,["disabled"])),[[F,Ye.value]])]})),_:1})]})),default:(0,p.k6)((function(){return[(0,p.bF)(a,null,{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.bulkActions"))+" ",1),(0,p.bF)((0,g.R1)(m.A),{class:"ml",type:"arrow-down"})]})),_:1})]})),_:1})])]),Ue.reload?((0,p.uX)(),(0,p.Wv)(w.A,{key:0,ref_key:"screenTableRef",ref:nt,"row-key":"docId",data:Ue.list,loading:Ue.loading,pagination:Ue.pagination,onHandleSelection:qe},{header:(0,p.k6)((function(){return[(0,p.bF)(c,{onKeydown:(0,v.jR)(Xt,["enter"])},{default:(0,p.k6)((function(){return[(0,p.bF)(o,{span:4},{default:(0,p.k6)((function(){return[(0,p.Lk)("span",V,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.th-s-name")),1),(0,p.bF)(l,{class:"th-s-input",modelValue:Ct.docName,"onUpdate:modelValue":t[2]||(t[2]=function(e){return Ct.docName=e}),placeholder:(0,g.R1)(C)("page.organizes.docus.th-s-name-holder")},null,8,["modelValue","placeholder"])]})),_:1}),(0,p.bF)(o,{span:4,class:"text-align-right"},{default:(0,p.k6)((function(){return[(0,p.Lk)("span",P,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.th-s-lang")),1),(0,p.bF)(i,{class:"th-s-input w200",modelValue:Ct.docLang,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Ct.docLang=e})},{default:(0,p.k6)((function(){return[((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)((0,g.R1)(Ke),(function(e){return(0,p.uX)(),(0,p.Wv)(s,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,p.bF)(o,{span:4},{default:(0,p.k6)((function(){return[(0,p.Lk)("span",U,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.th-s-status")),1),(0,p.bF)(i,{class:"th-s-input",modelValue:Ct.state,"onUpdate:modelValue":t[4]||(t[4]=function(e){return Ct.state=e})},{default:(0,p.k6)((function(){return[((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)((0,g.R1)(Ee),(function(e){return(0,p.uX)(),(0,p.Wv)(s,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,p.bF)(o,{span:4},{default:(0,p.k6)((function(){return[(0,p.Lk)("span",Q,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.th-s-tags")),1),(0,p.bF)(i,{class:"th-s-input",modelValue:Ct.docTags,"onUpdate:modelValue":t[5]||(t[5]=function(e){return Ct.docTags=e}),clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:(0,g.R1)(C)("page.organizes.docus.th-s-tags-holder")},{default:(0,p.k6)((function(){return[((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)(Rt.value,(function(e){return(0,p.uX)(),(0,p.Wv)(s,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder"])]})),_:1}),(0,p.bF)(o,{span:4},{default:(0,p.k6)((function(){return[(0,p.Lk)("span",H,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.th-s-type")),1),(0,p.bF)(i,{class:"th-s-input",modelValue:Ct.docType,"onUpdate:modelValue":t[6]||(t[6]=function(e){return Ct.docType=e})},{default:(0,p.k6)((function(){return[((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)((0,g.R1)(De),(function(e){return(0,p.uX)(),(0,p.Wv)(s,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,p.bF)(o,{span:4},{default:(0,p.k6)((function(){return[(0,p.Lk)("div",N,[(0,p.bF)(a,{class:"th-s-button color-huge border-huge",onClick:Kt},{icon:(0,p.k6)((function(){return[(0,p.bF)((0,g.R1)(m.A),{type:"pk-refresh"})]})),default:(0,p.k6)((function(){return[(0,p.eW)(" "+(0,f.v_)((0,g.R1)(C)("page.organizes.docus.th-s-reset")),1)]})),_:1}),(0,p.bF)(a,{class:"th-s-button",type:"primary",onClick:Xt},{icon:(0,p.k6)((function(){return[(0,p.bF)((0,g.R1)(m.A),{type:"pk-search"})]})),default:(0,p.k6)((function(){return[(0,p.eW)(" "+(0,f.v_)((0,g.R1)(C)("page.organizes.docus.th-s")),1)]})),_:1})])]})),_:1})]})),_:1})]})),default:(0,p.k6)((function(){return[(0,p.bF)(d,{type:"selection",width:"46",selectable:ea}),(0,p.bF)(d,{type:"index",width:"66",label:(0,g.R1)(C)("page.organizes.docus.tb-label-no")},null,8,["label"]),(0,p.bF)(d,{label:(0,g.R1)(C)("page.organizes.docus.tb-label-name"),prop:"docName","min-width":"220"},null,8,["label"]),(0,p.bF)(d,{label:(0,g.R1)(C)("page.organizes.docus.tb-label-lang"),prop:"lang",width:"160"},null,8,["label"]),(0,p.bF)(d,{label:(0,g.R1)(C)("page.organizes.docus.tb-label-tags"),width:"140"},{default:(0,p.k6)((function(e){var t=e.row;return[((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)(t.tags,(function(e){return(0,p.uX)(),(0,p.Wv)(h,{class:"tag-tool",type:"info",key:e},{default:(0,p.k6)((function(){return[(0,p.bF)(A.A,{content:e,placement:"left"},null,8,["content"])]})),_:2},1024)})),128))]})),_:1},8,["label"]),(0,p.bF)(d,{label:(0,g.R1)(C)("page.organizes.docus.tb-label-type"),prop:"type",width:"86"},{default:(0,p.k6)((function(e){var t=e.row;return[(0,p.bF)(h,{type:"info"},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)(t.type),1)]})),_:2},1024)]})),_:1},8,["label"]),(0,p.bF)(d,{label:(0,g.R1)(C)("page.organizes.docus.tb-label-status"),width:"160"},{default:(0,p.k6)((function(e){var t=e.row;return[(0,p.bF)(h,{class:(0,f.C4)("state"+t.translateState),type:Ft[t.translateState]||"info"},{default:(0,p.k6)((function(){return[3!==t.translateState?((0,p.uX)(),(0,p.CE)(p.FK,{key:0},[(0,p.eW)((0,f.v_)((0,g.R1)(Te)[t.translateState]),1)],64)):((0,p.uX)(),(0,p.Wv)(k,{key:1,content:vt[t.parserDetail]||t.parserDetail,effect:"light",placement:"top"},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(Te)[t.translateState]),1)]})),_:2},1032,["content"]))]})),_:2},1032,["class","type"])]})),_:1},8,["label"]),(0,p.bF)(d,{label:(0,g.R1)(C)("page.organizes.docus.tb-label-createtime"),prop:"createTime",width:"166"},null,8,["label"]),(0,p.bF)(d,{label:(0,g.R1)(C)("page.organizes.docus.tb-label-updatetime"),prop:"updateTime",width:"166"},null,8,["label"]),(0,p.bF)(d,{fixed:"right",label:(0,g.R1)(C)("page.organizes.docus.tb-label-actions"),prop:"action",width:"240"},{default:(0,p.k6)((function(e){var t=e.row,n=e.$index;return[(0,p.Lk)("div",j,[2!=t.docType&&t.translateState>=2?((0,p.uX)(),(0,p.Wv)(a,{key:0,class:"color-huge",type:"primary",text:"",onClick:function(e){return Bt(t)}},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.actionPreview")),1)]})),_:2},1032,["onClick"])):(0,p.Q3)("",!0),4===(0,g.R1)(Ve)(t.state,t.parserState)||5===(0,g.R1)(Ve)(t.state,t.parserState)?((0,p.uX)(),(0,p.Wv)(a,{key:1,class:"color-huge",type:"primary",text:"",onClick:function(e){return qt(t)}},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.actionEdit")),1)]})),_:2},1032,["onClick"])):(0,p.Q3)("",!0),3===(0,g.R1)(Ve)(t.state,t.parserState)?((0,p.uX)(),(0,p.Wv)(a,{key:2,class:"color-huge",type:"primary",text:"",onClick:function(e){return Ot(t)},loading:t.reParseLoading},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.actionParser")),1)]})),_:2},1032,["onClick","loading"])):(0,p.Q3)("",!0),2==t.docType||4!==(0,g.R1)(Ve)(t.state,t.parserState)&&5!==(0,g.R1)(Ve)(t.state,t.parserState)&&8!==(0,g.R1)(Ve)(t.state,t.parserState)?(0,p.Q3)("",!0):((0,p.uX)(),(0,p.Wv)(a,{key:3,class:"color-huge",type:"primary",onClick:function(e){return Gt(t)},text:""},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.actionConfirm")),1)]})),_:2},1032,["onClick"])),2!=t.docType&&5===(0,g.R1)(Ve)(t.state,t.parserState)?((0,p.uX)(),(0,p.Wv)(a,{key:4,class:"color-huge",type:"primary",onClick:function(e){return $t(t)},text:""},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.actionSplit")),1)]})),_:2},1032,["onClick"])):(0,p.Q3)("",!0),t.hide||5!==t.translateState&&7!==t.translateState&&8!==t.translateState?(0,p.Q3)("",!0):((0,p.uX)(),(0,p.Wv)(a,{key:5,loading:t.publishLoading||7===t.translateState,class:"color-huge",type:"primary",onClick:function(e){return Jt(t)},text:""},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.actionPublish")),1)]})),_:2},1032,["loading","onClick"])),6===(0,g.R1)(Ve)(t.state,t.parserState)?((0,p.uX)(),(0,p.Wv)(a,{key:6,class:"color-huge",type:"primary",onClick:function(e){return Zt(t)},text:""},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.actionStop")),1)]})),_:2},1032,["onClick"])):(0,p.Q3)("",!0),2!==t.translateState&&0!==t.translateState?((0,p.uX)(),(0,p.Wv)(a,{key:7,type:"info",text:"",loading:t.delLoading,onClick:function(e){return ia(n,t)}},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.actionDel")),1)]})),_:2},1032,["loading","onClick"])):(0,p.Q3)("",!0)])]})),_:1},8,["label"])]})),_:1},8,["data","loading","pagination"])):((0,p.uX)(),(0,p.Wv)(y.A,{key:1})),(0,p.bo)(((0,p.uX)(),(0,p.Wv)(R,{modelValue:lt.value,"onUpdate:modelValue":t[12]||(t[12]=function(e){return lt.value=e}),title:(0,g.R1)(C)("page.organizes.docus.addDialogTitle"),width:"1024","close-on-click-modal":!1},{footer:(0,p.k6)((function(){return[(0,p.Lk)("div",pe,[(0,p.bF)(a,{onClick:t[11]||(t[11]=function(e){return lt.value=!1})},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.buttonCancel")),1)]})),_:1}),(0,p.bo)(((0,p.uX)(),(0,p.Wv)(a,{disabled:0===pt.value.length,type:"primary",onClick:sa},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.buttonSubmit")),1)]})),_:1},8,["disabled"])),[[F,st.value]])])]})),default:(0,p.k6)((function(){return[(0,p.Lk)("div",q,[(0,p.Lk)("div",M,[(0,p.bF)(_,{model:ot.value,rules:ct,ref_key:"uploadFormRef",ref:it,class:"uploadForm",onSubmit:t[10]||(t[10]=(0,v.D$)((function(){}),["prevent"]))},{default:(0,p.k6)((function(){return[(0,p.bF)(b,{label:(0,g.R1)(C)("page.organizes.docus.tb-label-type"),"label-position":"left",prop:"type"},{default:(0,p.k6)((function(){return["2"===ot.value.type?((0,p.uX)(),(0,p.CE)("div",B,[(0,p.Lk)("a",{class:"ml",href:gt.value,target:"_blank"},(0,f.v_)((0,g.R1)(C)("page.organizes.docus.downloadQALink")),9,O)])):(0,p.Q3)("",!0)]})),_:1},8,["label"]),(0,p.bF)(b,{"label-width":0},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)(ot.value.typeStr),1)]})),_:1}),(0,p.bF)(b,{label:(0,g.R1)(C)("page.organizes.docus.tb-label-lang"),"label-position":"top",prop:"lang"},null,8,["label"]),(0,p.bF)(b,{"label-width":0},{default:(0,p.k6)((function(){return[(0,p.bF)(S,{modelValue:ot.value.lang,"onUpdate:modelValue":t[7]||(t[7]=function(e){return ot.value.lang=e}),name:"lang"},{default:(0,p.k6)((function(){return[((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)(Tt.value,(function(e){return(0,p.uX)(),(0,p.Wv)(L,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,p.bF)(b,{"label-position":"left",label:(0,g.R1)(C)("page.organizes.docus.tb-label-tags")},{default:(0,p.k6)((function(){return[(0,p.Lk)("span",$,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.dialogTagHint")),1)]})),_:1},8,["label"]),(0,p.bF)(b,{"label-width":0},{default:(0,p.k6)((function(){return[(0,p.bF)(i,{class:"select-tags",modelValue:ot.value.tags,"onUpdate:modelValue":t[8]||(t[8]=function(e){return ot.value.tags=e}),multiple:"",clearable:"",filterable:"","allow-create":"","default-first-option":"","multiple-limit":5,"reserve-keyword":!1,onKeyup:(0,v.jR)(Qt,["enter"]),onBlur:Qt,onChange:Ut,onInput:Pt,style:{flex:"1"},placeholder:"Please select or enter tags"},{default:(0,p.k6)((function(){return[(0,p.Lk)("div",G,[((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)(_t.value,(function(e){return(0,p.uX)(),(0,p.Wv)(s,{key:e,label:e,value:e},null,8,["label","value"])})),128))])]})),_:1},8,["modelValue"])]})),_:1}),(0,p.bF)(b,{class:"uploadForm-upload"},{default:(0,p.k6)((function(){return[(0,p.bF)(z,{"file-list":pt.value,"onUpdate:fileList":t[9]||(t[9]=function(e){return pt.value=e}),accept:"2"===ot.value.type?".xlsx":".pptx,.pdf,.md,.docx,.txt","show-file-list":!1,drag:"",multiple:"",limit:10,"before-upload":aa,"on-exceed":na,"http-request":ra},{default:(0,p.k6)((function(){return[(0,p.Lk)("div",Y,[(0,p.Lk)("div",J,[(0,p.bF)((0,g.R1)(m.A),{type:"pk-addplus"}),(0,p.Lk)("div",Z,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.uploadText")),1),(0,p.Lk)("div",ee,["1"===ot.value.type?((0,p.uX)(),(0,p.CE)("span",te,"Supports docx、pdf、md、txt | ")):((0,p.uX)(),(0,p.CE)("span",ae,"Supports xlsx | ")),(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.uploadHint")),1)])])])]})),_:1},8,["file-list","accept"])]})),_:1})]})),_:1},8,["model","rules"])]),(0,p.Lk)("div",ne,[(0,p.Lk)("div",re,[(0,p.Lk)("div",ue,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.uploadProgressTitle")),1),(0,p.Lk)("div",le,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.uploadProgressHint")),1)]),((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)(pt.value,(function(e,t){return(0,p.uX)(),(0,p.CE)("div",{class:"upload-file-list",key:e.name},[(0,p.Lk)("div",oe,[(0,p.bF)((0,g.R1)(m.A),{type:ta(e),class:"w24 h24 wh24"},null,8,["type"])]),(0,p.Lk)("div",se,[(0,p.Lk)("div",ie,[(0,p.bF)(A.A,{content:e.name,placement:"top"},null,8,["content"])]),(0,p.Lk)("div",ce,(0,f.v_)((e.size/1024).toFixed(2))+"kb ",1)]),(0,p.Lk)("div",de,[(0,p.bF)((0,g.R1)(m.A),{type:"pk-delete",class:"wh16",onClick:function(e){return ua(t)}},null,8,["onClick"])])])})),128))])])]})),_:1},8,["modelValue","title"])),[[F,st.value]]),(0,p.bF)(R,{modelValue:rt.value,"onUpdate:modelValue":t[18]||(t[18]=function(e){return rt.value=e}),title:(0,g.R1)(C)("page.organizes.docus.editDialogTitle"),width:"600","close-on-click-modal":!1},{footer:(0,p.k6)((function(){return[(0,p.Lk)("div",ge,[(0,p.bF)(a,{onClick:t[17]||(t[17]=function(e){return rt.value=!1})},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.buttonCancel")),1)]})),_:1}),(0,p.bF)(a,{type:"primary",onClick:Mt},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)((0,g.R1)(C)("page.organizes.docus.buttonSubmit")),1)]})),_:1})])]})),default:(0,p.k6)((function(){return[(0,p.bF)(_,{model:ut,rules:ct,ref:"editFormRef","label-position":"top",onSubmit:t[16]||(t[16]=(0,v.D$)((function(){}),["prevent"]))},{default:(0,p.k6)((function(){return[(0,p.bF)(b,{label:(0,g.R1)(C)("page.organizes.docus.tb-label-name"),prop:"name"},{default:(0,p.k6)((function(){return[(0,p.bF)(l,{maxlength:"100",modelValue:ut.name,"onUpdate:modelValue":t[13]||(t[13]=function(e){return ut.name=e}),placeholder:(0,g.R1)(C)("page.organizes.docus.editHolder"),name:"name"},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,p.bF)(b,{label:(0,g.R1)(C)("page.organizes.docus.tb-label-lang"),prop:"lang"},{default:(0,p.k6)((function(){return[(0,p.bF)(S,{modelValue:ut.lang,"onUpdate:modelValue":t[14]||(t[14]=function(e){return ut.lang=e}),name:"lang"},{default:(0,p.k6)((function(){return[((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)(Tt.value,(function(e){return(0,p.uX)(),(0,p.Wv)(L,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1},8,["label"]),(0,p.bF)(b,{class:"edit-form",label:(0,g.R1)(C)("page.organizes.docus.tb-label-tags")},{default:(0,p.k6)((function(){return[(0,p.bF)(i,{modelValue:ut.tags,"onUpdate:modelValue":t[15]||(t[15]=function(e){return ut.tags=e}),multiple:"",clearable:"",filterable:"","allow-create":"","default-first-option":"","multiple-limit":5,"reserve-keyword":!1,onKeyup:(0,v.jR)(Qt,["enter"]),onBlur:Qt,onChange:Ut,onInput:Pt,style:{flex:"1"},placeholder:"Please select or enter tags"},{default:(0,p.k6)((function(){return[(0,p.Lk)("div",fe,[((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)(_t.value,(function(e){return(0,p.uX)(),(0,p.Wv)(s,{key:e,label:e,value:e},null,8,["label","value"])})),128))])]})),_:1},8,["modelValue"])]})),_:1},8,["label"])]})),_:1},8,["model","rules"])]})),_:1},8,["modelValue","title"]),(0,p.bo)((0,p.Lk)("div",{class:(0,f.C4)(["upload-state",ft.type])},[(0,p.Lk)("div",ve,[he,(0,p.Lk)("div",ke,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.uploadStateTitle")),1),(0,p.Lk)("div",be,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.uploadStateSuccess",{successCount:ft.success})),1),(0,p.Lk)("div",me,(0,f.v_)((0,g.R1)(C)("page.organizes.docus.uploadStateFail",{failCount:ft.fail})),1),(0,p.Lk)("div",we,["expand"===ft.type?((0,p.uX)(),(0,p.Wv)((0,g.R1)(m.A),{key:0,type:"pk-shrink",class:"wh16",onClick:t[19]||(t[19]=function(e){return ft.type="expanded"})})):((0,p.uX)(),(0,p.Wv)((0,g.R1)(m.A),{key:1,type:"pk-expand",class:"wh16",onClick:t[20]||(t[20]=function(e){return ft.type="expand"})})),(0,p.bF)((0,g.R1)(m.A),{type:"pk-knowclose",class:"wh16",onClick:t[21]||(t[21]=function(e){return ft.show=!1})})])]),"expand"!==ft.type?((0,p.uX)(),(0,p.CE)("div",ye,[((0,p.uX)(!0),(0,p.CE)(p.FK,null,(0,p.pI)(ft.fileList,(function(e,t){return(0,p.uX)(),(0,p.CE)(p.FK,{key:e},[e?((0,p.uX)(),(0,p.CE)("div",{key:0,class:(0,f.C4)(["upload-state-list",3===(0,g.R1)(Ve)(e.state,e.parserState)?"red":""])},[(0,p.Lk)("div",xe,[(0,p.bF)((0,g.R1)(m.A),{type:ta(e),class:"w24 h24 wh24"},null,8,["type"])]),(0,p.Lk)("div",Ae,[(0,p.Lk)("div",Le,[(0,p.bF)(A.A,{content:e.name,placement:"top"},null,8,["content"])]),(0,p.Lk)("div",Se,(0,f.v_)((e.size/1024).toFixed(2))+"kb ",1),(0,p.Lk)("div",ze,(0,f.v_)(e.uploadedAt),1)]),(0,p.Lk)("div",{class:(0,f.C4)(["state",{red:e.error}])},[(0,p.bF)(k,{content:e.error,effect:"light"},{default:(0,p.k6)((function(){return[(0,p.eW)((0,f.v_)(e.error?(0,g.R1)(C)("page.organizes.docus.uploadFail"):(0,g.R1)(Te)[(0,g.R1)(Ve)(e.state,e.parserState)]),1)]})),_:2},1032,["content"])],2),(0,p.Lk)("div",_e,[(0,p.bF)((0,g.R1)(m.A),{type:"pk-delete",class:"wh16",onClick:function(e){return la(t)}},null,8,["onClick"])])],2)):(0,p.Q3)("",!0)],64)})),128))])):(0,p.Q3)("",!0)],2),[[v.aG,ft.show]]),(0,p.bF)(R,{title:dt.docName,width:"50vw",modelValue:dt.show,"onUpdate:modelValue":t[22]||(t[22]=function(e){return dt.show=e})},{default:(0,p.k6)((function(){return[(0,p.Lk)("div",Re,[(0,p.bF)(x.A,{uuid:dt.uuid,history:dt.history,sourceUrl:dt.sourceUrl},null,8,["uuid","history","sourceUrl"])])]})),_:1},8,["title","modelValue"])])}}}),Ie=a(83940);const Ce=(0,Ie.A)(Fe,[["__scopeId","data-v-0f72f6ec"]]);var Te=Ce}}]);