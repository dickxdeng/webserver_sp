"use strict";(self["webpackChunkSensepedia"]=self["webpackChunkSensepedia"]||[]).push([[447],{5839:function(e,t,a){a.r(t),a.d(t,{default:function(){return _e}});var n=a(35206),r=a(58712),l=a(51465),u=a(37288),i=a(15400),o=a(94470),s=a(28724),c=a(30882),p=a(79266),d=(a(91234),a(64536),a(20897),a(4500),a(77111),a(19382),a(58926),a(14898),a(34302),a(33434),a(29306),a(10348),a(35884),a(81619),a(27015),a(94301),a(47715),a(73780),a(50641),a(44480),a(11657),a(28694)),v=a(83487),f=a(38118),g=a(97913),k=a(32228),m=a(19477),h=a(74560),b=a(12567),y=a(59531),w=a(52582),A=a(18684),x=a(94102),R=a(51832),L=a(26497),z=a(81329),F=a(34197),_=a(74913),S=a(98836),T=(a(1421),function(e){return(0,d.Qi)("data-v-7ac6a8d6"),e=e(),(0,d.jt)(),e}),q={class:"main","element-loading-text":"Please wait..."},C={class:"main-top"},D={class:"main-top-nav"},W={class:"th-s-label finished"},K={class:"th-s-label"},E={class:"th-s-label"},X={class:"th-s"},I={key:0},B={key:1},N={key:1,class:"container-progress"},Q={class:"uploadForm-text"},U={class:"uploadForm-flex"},V={class:"uploadForm-left"},H={key:0,class:"flex-right"},P=["href"],O={class:"dialog-hint"},j={class:"tag-flex"},M={class:"uploadForm-uploadDirectoryHint"},$={class:"title"},G={class:"dialog-hint desc"},J={class:"upload"},Y={class:"upload-plus upload-flex"},Z={class:"upload-text"},ee={class:"uploadForm-right"},te={class:"upload-progress-header"},ae={class:"title"},ne={class:"hint"},re={class:"icon"},le={class:"title"},ue={class:"name"},ie={class:"kb"},oe={class:"actions"},se={class:"dialog-footer"},ce={key:0,class:"dialog-hint"},pe={class:"top"},de=T((function(){return(0,d.Lk)("div",{class:"upload-state-icon"},[(0,d.Lk)("img",{src:"/images/upload-state.png",class:"wh92"})],-1)})),ve={class:"upload-state-title"},fe={class:"upload-state-success"},ge={class:"upload-state-fail"},ke={class:"upload-state-expand"},me={key:0,class:"list"},he={class:"icon"},be={class:"name"},ye={class:"text"},we={class:"kb"},Ae={class:"time"},xe={class:"actions"},Re={class:"preview"},Le=(0,d.pM)({__name:"quick",setup:function(e){var t=(0,k.s9)(),a=t.locale,T=t.t,Le=(0,S.rd)(),ze=(0,_.Pj)(),Fe=(0,d.EW)((function(){return ze.state.user.currentUser})),_e=(0,R.A)(),Se=_e.STATES,Te=_e.TYPES,qe=_e.LANGS,Ce=_e.LangOptions,De=(_e.StatusOptions,_e.TypeOptions),We=_e.translateState,Ke=_e.queryState,Ee=(0,f.Kh)({loading:!1,list:[],total:0,fail:0,uploadDupl:0,uploadFail:0}),Xe=(0,f.KR)([]),Ie=(0,x.A)("/organize/quick",function(){var e=(0,p.A)((0,c.A)().mark((function e(t,a){var n,r,l;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Ee.loading=!0,e.next=3,(0,F.Cp)(t);case 3:n=e.sent,r=n.rows,l=r||[],Ee.list=l.map((function(e){return e.docTags=(0,L.QV)(e.docTags||""),e.tags=""!==e.docTags?e.docTags.split(","):[],e.type=Te[e.docType],e.lang=qe[e.docLang||"zh-cn"],e.translateState=We(e.state,e.parserState),e})),Ee.total=n.total||0,ct(),Ee.loading=!1;case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Be=Ie.pushQuery,Ne=Ie.queryParams,Qe=function(e){Xe.value=e},Ue=(0,f.KR)(!1),Ve=(0,f.KR)(null),He=(0,f.KR)(!1),Pe=(0,d.EW)((function(){return"resume"===je.value})),Oe=(0,d.EW)((function(){return $e.value&&Fe.value.name===Me.value&&ht.value!==bt.value||"resume"===je.value&&Fe.value.name===Me.value})),je=(0,f.KR)("stop"),Me=(0,f.KR)(),$e=(0,f.KR)(),Ge=((0,f.Kh)({id:0,name:"",lang:"",tags:[]}),(0,f.KR)(!1)),Je=(0,f.KR)(null),Ye=((0,f.KR)(!1),(0,f.KR)({lang:"1",tags:[],type:"",files:[]})),Ze=(0,f.KR)(!1),et=(0,f.KR)(null),tt=(0,f.Kh)({lang:[{required:!0,trigger:"change"}],name:[{required:!0,trigger:"blur"}],type:[{required:!0,trigger:"change"}]}),at=(0,f.Kh)({show:!1,uuid:"",history:{},sourceUrl:"",docName:""}),nt=(0,f.KR)([]),rt=(0,f.Kh)({fileList:[],show:!1,success:0,fail:0,type:"expand"}),lt=(0,f.KR)("/preview/SampleQAData.xlsx"),ut={"File is empty":"The file is empty","Invalid file format":"Non-compliant with QA","Error embedding content":"Error embedding content","Unknown error":"Unknown error"},it=1,ot=0,st=1,ct=function(){var e=(0,p.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:ot&&(clearInterval(ot),ot=0),st=0,ot=setInterval((0,p.A)((0,c.A)().mark((function e(){var t,a,n,r,l,u,i,o,s;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!1,a=st<=0?Ee.list.length-1:st,st=0;case 3:if(!(a>=0)){e.next=29;break}if(n=Ee.list[a],r=n.state,l=n.parserState,u=n.docId,6!==We(r,l)&&3!==We(r,l)&&8!==We(r,l)&&10!==We(r,l)){e.next=7;break}return e.abrupt("continue",26);case 7:if(!(We(r,l)<=0||1===We(r,l)||2===We(r,l)||4===We(r,l)||5===We(r,l)||7===We(r,l)||9===We(r,l))){e.next=26;break}if(!(u&&u.length>10)){e.next=21;break}return e.prev=9,e.next=12,(0,F.P)(u);case 12:i=e.sent,i&&i.data&&(Ee.list[a].state=~~i.data.state,Ee.list[a].parserState=~~i.data.parserState,Ee.list[a].parserDetail=i.data.parserDetail,Ee.list[a].translateState=We(+i.data.state,+i.data.parserState),Ee.list[a].createTime=i.data.createTime,Ee.list[a].createBy=null!==(o=i.data.createBy)&&void 0!==o?o:Ee.list[a].createBy,Ee.list[a].updateTime=i.data.updateTime),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](9),Ee.list[a].error=(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.msg)||"Failed",console.log(e.t0);case 20:t=!0;case 21:if(3!=Ee.list[a].translateState&&Ee.list[a].translateState<6&&st++,!(st>=10)){e.next=25;break}return st=a-1,e.abrupt("break",29);case 25:0===a&&(st=a);case 26:a--,e.next=3;break;case 29:Ht(),Vt().then((function(){if(!$e.value&&Fe.value.name===Me.value&&ht.value<bt.value&&ht.value>0){if(clearInterval(ot),"/organize/quick"!==Le.currentRoute.value.path)return;var e=T("page.organizes.docus.quickDoneHint"),t=T("page.organizes.docus.quickDoneDetail");m.s.confirm(t,e,{showCancelButton:!1,showClose:!1,confirmButtonText:T("page.organizes.docus.quickDoneButton"),type:"warning"}).then((0,p.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,F.Qp)();case 2:setTimeout((function(){At({refresh:(0,z.pr)(new Date)})}),400),ht.value=0;case 4:case"end":return e.stop()}}),e)})))).catch((0,p.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))}})),it++,(!t||it>6e3)&&(clearInterval(ot),it=1,ot=0);case 33:case"end":return e.stop()}}),e,null,[[9,16]])}))),2001);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=(0,f.KR)(""),dt=(0,f.KR)(!1),vt=(0,f.KR)(["标签","长","常常常常","常常"]),ft=(0,f.KR)([]),gt=["primary","info","warning","error","warning","primary","success","success"],kt=(0,f.Kh)([{label:"全部",value:"ALL"},{label:"医学",value:"医学"},{label:"财经",value:"财经"},{label:"保险",value:"保险"},{label:"其他",value:"其他"}]),mt=(0,f.Kh)({docName:"",docLang:"ALL",state:0,docType:"ALL",docTags:"ALL"}),ht=(0,f.KR)(0),bt=(0,d.EW)((function(){return Ee.total})),yt=(0,d.EW)((function(){return Ce.filter((function(e){return"ALL"!==e.value}))})),wt=(0,d.EW)((function(){return De.filter((function(e){return"ALL"!==e.value}))})),At=((0,d.EW)((function(){return kt.filter((function(e){return"ALL"!==e.value}))})),function(e){var t,a,n=(0,s.A)((0,s.A)((0,s.A)((0,s.A)({},mt),Ke(mt.state)),{},{perPage:null===(t=Ee.pagination)||void 0===t?void 0:t.pageSize,page:null===(a=Ee.pagination)||void 0===a?void 0:a.current},e),{},{refresh:(0,z.pr)(new Date)});"ALL"===n.docLang&&delete n.docLang,"ALL"===n.docType&&delete n.docType,"ALL"===n.docTags&&delete n.docTags,delete n.state,delete n.parserState,Be(n)});(0,d.nT)((function(){var e=[];Ne.value.categoryId&&Ne.value.categoryId.split(",").map((function(t){t&&e.push(Number(t))}));var t={keywords:Ne.value.keywords||"",category:e,datetime:Ne.value.startTime&&Ne.value.endTime?[Ne.value.startTime,Ne.value.endTime]:[],tags:Ne.value.tags?Ne.value.tags.split(","):[]};mt.name=t.keywords}));var xt=function(){var e=(0,p.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Vt();case 2:if(!0!==$e.value||Fe.value.name!==Me.value||"stop"!==je.value){e.next=5;break}return h.nk.error(T("page.organizes.docus.quickProgress")),e.abrupt("return");case 5:Le.push({path:ze.state.global.previousRoute||"/home"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rt=0,Lt=0,zt=0,Ft=(0,f.KR)(!1),_t=function(){var e=(0,p.A)((0,c.A)().mark((function e(){var t,a;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(ht.value===bt.value){e.next=2;break}return e.abrupt("return");case 2:t=T("page.organizes.docus.quickClearDetail"),a=T("page.organizes.docus.quickClearHint"),m.s.confirm(t,a,{confirmButtonText:T("page.organizes.docus.quickConfirmButton"),cancelButtonText:T("page.organizes.docus.quickCancelButton"),type:"warning"}).then((0,p.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,F.Ji)();case 2:Ee.list=[],Ee.total=0,ht.value=0,Le.push({path:"/organize/document"});case 6:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),St=function(){var e=(0,p.A)((0,c.A)().mark((function e(){var t,a;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:"stop"===je.value&&je.value,t=T("page.organizes.docus.quickRemoveDetail"),a=T("page.organizes.docus.quickRemoveHint"),m.s.confirm(t,a,{confirmButtonText:T("page.organizes.docus.quickConfirmButton"),cancelButtonText:T("page.organizes.docus.quickCancelButton"),type:"warning"}).then((0,p.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,F.Qp)();case 2:setTimeout((function(){At({refresh:(0,z.pr)(new Date)})}),400),h.nk.success(T("page.organizes.docus.quickSuccess"));case 4:case"end":return e.stop()}}),e)})))).catch((function(){}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tt=function(){var e=(0,p.A)((0,c.A)().mark((function e(){var t,a;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("stop"!==je.value){e.next=3;break}if(Oe.value){e.next=3;break}return e.abrupt("return");case 3:t="stop"===je.value?T("page.organizes.docus.quickStopDetail"):T("page.organizes.docus.quickResumeDetail"),a="stop"===je.value?T("page.organizes.docus.quickStopHint"):T("page.organizes.docus.quickResumeHint"),m.s.confirm(t,a,{dangerouslyUseHTMLString:!0,confirmButtonText:T("page.organizes.docus.quickConfirmButton"),cancelButtonText:T("page.organizes.docus.quickCancelButton"),type:"warning"}).then((0,p.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,F.ZJ)({type:je.value});case 2:Lt=0,"stop"===je.value&&(zt=setInterval((function(){Ft.value=!0,Lt++>=Rt&&(Ft.value=!1,zt&&clearInterval(zt))}),1e3)),je.value="stop"===je.value?"resume":"stop",h.nk.success(T("page.organizes.docus.quickSuccess"));case 6:case"end":return e.stop()}}),e)})))).catch((function(){}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qt=function(e){console.error(e)},Ct=function(e){},Dt=function(e){null===e||void 0===e||e.stopPropagation(),dt.value=!1,pt.value=""},Wt=function(){var e=(0,p.A)((0,c.A)().mark((function e(t){var a,n;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Ye.value.type="text"===t?"1":"2",Ye.value.typeStr=null===(a=wt.value.find((function(e){return e.value===Ye.value.type})))||void 0===a?void 0:a.label,n="1"===Ye.value.type?T("page.organizes.docus.supportText"):"",Ye.value.typeStr=Ye.value.typeStr+" ("+n+")",Ye.value.lang="zh-cn",Ye.value.tags=[],Ye.value.files=[],nt.value=[],Ue.value=!1,Ge.value=!0,setTimeout((function(){if(Je.value){var e=Je.value.$el.querySelector(".el-upload__input");e&&(e.setAttribute("webkitdirectory",""),e.setAttribute("mozdirectory",""))}})),Ee.uploadFail=0,Ee.uploadDupl=0;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kt=function(e){return e.name.includes(".xls")?"pk-xlsx":e.name.includes(".md")?"pk-md":e.name.includes(".doc")?"pk-docx":e.name.includes(".ppt")||e.name.includes(".txt")?"pk-txt":"pk-pdf"};(0,d.nT)((function(){"zh-CN"===a.value||"zh-TW"===a.value?lt.value="/preview/SampleQAData.xlsx":lt.value="/preview/SampleQAData-EN.xlsx"}));var Et=function(e){if(""===Ye.value.type)return h.nk.error(T("page.organizes.docus.errorType")),!1;var t=e.name.replace(/.+\./,"");if(2===~~Ye.value.type&&!["xlsx"].includes(t))return!1;if(2!==~~Ye.value.type&&!["docx","pdf","md","txt"].includes(t))return!1;var a=e.name;if(a.match(/\[|\]|\^|\$|￥/g))return h.nk.error("Please do not use special characters in the file name."+e.name),!1;var n=104857600;return n<e.size?(h.nk.error("Exceed Limit 100M"+e.name),!1):(Ue.value=!0,!0)},Xt=function(){h.nk.error(T("page.organizes.docus.exceedLimit",{limit:3e3-bt.value}))},It=function(){var e=(0,p.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=function(e){nt.value.splice(e,1)},Nt=function(e){rt.fileList.splice(e,1),0===rt.fileList.length&&(rt.show=!1)},Qt=function(){var e=(0,p.A)((0,c.A)().mark((function e(){var t,a,n;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Ze.value){e.next=2;break}return e.abrupt("return");case 2:Ze.value=!0,t=[],a=(0,c.A)().mark((function e(a){var n,r,l,u,i;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=nt.value.slice(a,a+10),r=new FormData,r.append("docTags",Ye.value.tags.join(",")),r.append("docType",Ye.value.type),r.append("docLang",Ye.value.lang),r.append("docName",n.map((function(e){return e.name}))),n.map((function(e){return r.append("files",e.raw)})),l=0;l<n.length;l++)u=10*a+l,i={lang:qe[Ye.value.lang],type:Te[Ye.value.type],tags:Ye.value.tags,createTime:(0,z.pr)(new Date),updateTime:(0,z.pr)(new Date),docName:n[l].name,idx:u,state:0,parserState:-1,translateState:0,createBy:Fe.value.name},Ee.list.unshift(i),Ee.total++;t.push(new Promise((function(e,t){(function(a,n){(0,F.z6)(n).then((function(t){Pt();var r=n.getAll("files");if(t&&200!==t.code)for(var l=function(){var e=10*a+u;Ee.list.map((function(a){a.idx===e&&(a.parserState=4,a.error=t.msg,a.translateState=We(a.state,a.parserState))}))},u=0;u<r.length;u++)l();else if(t)if(Array.isArray(t.data)){var i,s=(0,o.A)(t.data);try{var c=function(){for(var e=i.value,t=function(){var t=10*a+n,r=Ee.list.findIndex((function(a){return a&&a.idx===t&&a.docName===e.docName}));if(-1!==r)return 5===e.code?(Ee.list[r].parserState=4,Ee.list[r].translateState=3,Ee.list[r].error=T("page.organizes.docus.fileDup"),Ee.fail++,Ee.uploadDupl++):200!==e.code?(Ee.list[r].parserState=4,Ee.list[r].translateState=3,Ee.list[r].error=e.msg,Ee.fail++,Ee.uploadFail++):Ee.list.find((function(t){return t.docId===e.docId}))?(Ee.list[r].parserState=4,Ee.list[r].translateState=3,Ee.list[r].error=T("page.organizes.docus.fileDup"),Ee.fail++,Ee.uploadDupl++):(ct(),Ee.list[r].docId=e.docId,Ee.list[r].parserState=1,Ee.list[r].translateState=We(Ee.list[r].state,Ee.list[r].parserState)),Ee.list[r].docId=e.docId||e.docName,1},n=0;n<r.length;n++)if(t())break};for(s.s();!(i=s.n()).done;)c()}catch(v){s.e(v)}finally{s.f()}e()}else{for(var p=function(){var e=10*a+d,t=Ee.list.findIndex((function(t){return t.idx===e}));if(-1!==t)return Ee.list[t].parserState=4,Ee.list[t].error="Upload Error",Ee.fail++,Ee.uploadFail++,Ee.list[t].translateState=We(Ee.list[t].state,Ee.list[t].parserState),1},d=0;d<r.length;d++)if(p())break;e()}})).catch((function(e){console.error(e);for(var n=function(){var e=10*a+r,t=Ee.list.findIndex((function(t){return t&&t.idx===e}));-1!==t&&(Ee.list[t].translateState=3,Ee.list[t].error="Upload Failed",Ee.fail++)},r=0;r<10;r++)n();t()}))})(a,r)})));case 9:case"end":return e.stop()}}),e)})),n=0;case 6:if(!(n<nt.value.length)){e.next=11;break}return e.delegateYield(a(n),"t0",8);case 8:n+=10,e.next=6;break;case 11:return nt.value=[],Ye.value.tags=[],Ze.value=!1,Ge.value=!1,$e.value=!0,ct(),Vt(),e.next=20,Promise.all(t);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ut=1,Vt=function(){var e=(0,p.A)((0,c.A)().mark((function e(){var t,a;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,F.q7)();case 2:t=e.sent,t.data.pause&&(je.value="resume"),Me.value=t.data.admin,a=!!t.data.progress,a?(Ut=1,$e.value=a):(Ut>=5&&($e.value=a),Ut+=1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ht=function(){var e=(0,p.A)((0,c.A)().mark((function e(){var t;return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,F.Ds)({parserStates:"4",states:"10,6,3"});case 2:t=e.sent,t.data&&(ht.value=+t.data+Ee.fail);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,d.sV)((0,p.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return ct(),Pt(),e.next=4,Vt();case 4:return e.next=6,Ht();case 6:case"end":return e.stop()}}),e)})))),(0,d.hi)((function(){clearInterval(ot)}));var Pt=function(){(0,F.Q2)().then((function(e){vt.value=e.data,ft.value=["ALL"].concat((0,i.A)(e.data))}))},Ot=function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];a&&clearTimeout(a),a=setTimeout((function(){e.apply(void 0,r)}),t)}},jt=function(){if(ht.value<bt.value)return!0;var e=[1,2,4,5,7,9];return!(!Ee.list||!Ee.list.find((function(t){return e.includes(t.translateState)})))},Mt=window.ResizeObserver;return window.ResizeObserver=function(e){function t(e){return(0,r.A)(this,t),e=Ot(e,100),(0,l.A)(this,t,[e])}return(0,u.A)(t,e),(0,n.A)(t)}(Mt),window.onbeforeunload=function(){if(jt())return T("page.organizes.docus.unload")},window.addEventListener("beforeunload",(function(e){jt()&&(e.returnValue=T("page.organizes.docus.unload"))})),function(e,t){var a=(0,d.g2)("el-tag"),n=(0,d.g2)("el-col"),r=(0,d.g2)("el-button"),l=(0,d.g2)("el-row"),u=(0,d.g2)("el-table-column"),i=(0,d.g2)("el-tooltip"),o=(0,d.g2)("el-alert"),s=(0,d.g2)("el-form-item"),c=(0,d.g2)("el-radio"),p=(0,d.g2)("el-radio-group"),k=(0,d.g2)("el-option"),m=(0,d.g2)("el-select"),h=(0,d.g2)("el-upload"),x=(0,d.g2)("el-form"),R=(0,d.g2)("el-scrollbar"),L=(0,d.g2)("el-dialog"),z=(0,d.gN)("loading");return(0,d.bo)(((0,d.uX)(),(0,d.CE)("div",q,[(0,d.Lk)("div",C,[(0,d.Lk)("div",D,[(0,d.eW)((0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickNav"))+" ",1),$e.value&&ht.value!==bt.value&&Fe.value.name===Me.value?((0,d.uX)(),(0,d.Wv)(a,{key:0,type:"warning"},{default:(0,d.k6)((function(){return[(0,d.eW)((0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickNavHint")),1)]})),_:1})):(0,d.Q3)("",!0),$e.value&&Fe.value.name!==Me.value?((0,d.uX)(),(0,d.Wv)(a,{key:1,type:"warning"},{default:(0,d.k6)((function(){return[(0,d.eW)((0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickNavHintOtherwise")),1)]})),_:1})):(0,d.Q3)("",!0)]),(0,d.Lk)("div",{class:"main-top-batch",onClick:xt},[(0,d.bF)((0,f.R1)(b.A),{type:"close"})])]),!0!==$e.value||Fe.value.name===Me.value?((0,d.uX)(),(0,d.Wv)(y.A,{key:0,ref_key:"screenTableRef",ref:Ve,"row-key":"docId",data:Ee.list,loading:Ee.loading,pagination:Ee.pagination,onHandleSelection:Qe},{header:(0,d.k6)((function(){return[(0,d.bF)(l,null,{default:(0,d.k6)((function(){return[(0,d.bF)(n,{span:20},{default:(0,d.k6)((function(){return[(0,d.Lk)("span",W,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickFiles",{doneCount:ht.value})),1),(0,d.eW)("/ "),(0,d.Lk)("span",K,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickFilesTotal",{total:bt.value})),1),(0,d.eW)("/ "),(0,d.Lk)("span",E,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickFilesLimit",{limit:3e3})),1)]})),_:1}),(0,d.bF)(n,{span:4},{default:(0,d.k6)((function(){return[(0,d.Lk)("div",X,[(0,d.bF)(r,{disabled:bt.value>=3e3,class:"th-s-button",type:"primary",onClick:t[0]||(t[0]=function(e){return Wt("text")})},{icon:(0,d.k6)((function(){return[(0,d.bF)((0,f.R1)(b.A),{type:"pk-quickaddmore"})]})),default:(0,d.k6)((function(){return[(0,d.eW)(" "+(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickAddButton")),1)]})),_:1},8,["disabled"]),He.value&&Oe.value?((0,d.uX)(),(0,d.Wv)(r,{key:0,class:"th-s-button color-huge border-huge",onClick:Tt},{icon:(0,d.k6)((function(){return[(0,d.bF)((0,f.R1)(b.A),{type:"pk-quickstop"})]})),default:(0,d.k6)((function(){return["stop"===je.value?((0,d.uX)(),(0,d.CE)("span",I,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickStopButton")),1)):((0,d.uX)(),(0,d.CE)("span",B,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickResumeButton")),1))]})),_:1})):(0,d.Q3)("",!0),$e.value&&ht.value<bt.value?((0,d.uX)(),(0,d.Wv)(r,{key:1,class:"th-s-button color-huge border-huge",onClick:St},{icon:(0,d.k6)((function(){return[(0,d.bF)((0,f.R1)(b.A),{type:"pk-quickstop"})]})),default:(0,d.k6)((function(){return[(0,d.eW)(" "+(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickRemoveButton")),1)]})),_:1})):(0,d.Q3)("",!0),ht.value>0&&ht.value===bt.value?((0,d.uX)(),(0,d.Wv)(r,{key:2,class:"th-s-button color-huge border-huge",onClick:_t},{icon:(0,d.k6)((function(){return[(0,d.bF)((0,f.R1)(b.A),{type:"pk-deletelogs"})]})),default:(0,d.k6)((function(){return[(0,d.eW)(" "+(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickClearButton")),1)]})),_:1})):(0,d.Q3)("",!0)])]})),_:1})]})),_:1})]})),default:(0,d.k6)((function(){return[(0,d.bF)(u,{type:"index",width:"66",label:(0,f.R1)(T)("page.organizes.docus.tb-label-no")},null,8,["label"]),(0,d.bF)(u,{label:(0,f.R1)(T)("page.organizes.docus.tb-label-name"),prop:"docName","min-width":"240"},null,8,["label"]),(0,d.bF)(u,{label:(0,f.R1)(T)("page.organizes.docus.tb-label-lang"),prop:"lang",width:"180"},null,8,["label"]),(0,d.bF)(u,{label:(0,f.R1)(T)("page.organizes.docus.tb-label-tags"),width:"140"},{default:(0,d.k6)((function(e){var t=e.row;return[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(t.tags,(function(e){return(0,d.uX)(),(0,d.Wv)(a,{class:"tag-tool",type:"info",key:e},{default:(0,d.k6)((function(){return[(0,d.bF)(A.A,{content:e,placement:"left"},null,8,["content"])]})),_:2},1024)})),128))]})),_:1},8,["label"]),(0,d.bF)(u,{label:(0,f.R1)(T)("page.organizes.docus.tb-label-type"),prop:"type",width:"120"},{default:(0,d.k6)((function(e){var t=e.row;return[(0,d.bF)(a,{type:"info"},{default:(0,d.k6)((function(){return[(0,d.eW)((0,v.v_)(t.type),1)]})),_:2},1024)]})),_:1},8,["label"]),(0,d.bF)(u,{label:(0,f.R1)(T)("page.organizes.docus.tb-label-status"),width:"160"},{default:(0,d.k6)((function(e){var t=e.row;return[(0,d.bF)(a,{class:(0,v.C4)("state"+t.translateState),type:gt[t.translateState]||"info"},{default:(0,d.k6)((function(){return[Pe.value&&6!==t.translateState&&3!==t.translateState&&8!==t.translateState&&10!==t.translateState?((0,d.uX)(),(0,d.CE)(d.FK,{key:0},[(0,d.eW)((0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickStopping")),1)],64)):3!==t.translateState?((0,d.uX)(),(0,d.CE)(d.FK,{key:1},[(0,d.eW)((0,v.v_)((0,f.R1)(Se)[t.translateState]),1)],64)):((0,d.uX)(),(0,d.Wv)(i,{key:2,content:t.error||ut[t.parserDetail]||t.parserDetail,effect:"light",placement:"top"},{default:(0,d.k6)((function(){return[(0,d.eW)((0,v.v_)(t.error?(0,f.R1)(T)("page.organizes.docus.uploadFail"):(0,f.R1)(Se)[t.translateState]),1)]})),_:2},1032,["content"]))]})),_:2},1032,["class","type"])]})),_:1},8,["label"]),(0,d.bF)(u,{label:(0,f.R1)(T)("page.organizes.docus.tb-label-creator"),prop:"createBy",width:"180"},null,8,["label"]),(0,d.bF)(u,{label:(0,f.R1)(T)("page.organizes.docus.tb-label-createtime"),prop:"createTime",width:"180"},null,8,["label"]),(0,d.bF)(u,{label:(0,f.R1)(T)("page.organizes.docus.tb-label-updatetime"),prop:"updateTime",width:"180"},null,8,["label"])]})),_:1},8,["data","loading","pagination"])):((0,d.uX)(),(0,d.CE)("div",N,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickNavHintOtherwise")),1)),(0,d.bF)(L,{modelValue:Ge.value,"onUpdate:modelValue":t[6]||(t[6]=function(e){return Ge.value=e}),title:(0,f.R1)(T)("page.organizes.docus.quickDialogTitle"),width:"1024","close-on-click-modal":!1},{footer:(0,d.k6)((function(){return[(0,d.Lk)("div",se,[Ee.uploadDupl+Ee.uploadFail>0?((0,d.uX)(),(0,d.CE)("span",ce,[(0,d.Lk)("span",null,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickDuplTotal",{total:Ee.uploadDupl})),1),(0,d.eW)("/ "),(0,d.Lk)("span",null,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickFailTotal",{total:Ee.uploadFail})),1)])):(0,d.Q3)("",!0),(0,d.bF)(r,{onClick:t[5]||(t[5]=function(e){return Ge.value=!1})},{default:(0,d.k6)((function(){return[(0,d.eW)((0,v.v_)((0,f.R1)(T)("page.organizes.docus.buttonCancel")),1)]})),_:1}),(0,d.bo)(((0,d.uX)(),(0,d.Wv)(r,{disabled:Ze.value||0===nt.value.length,type:"primary",onClick:Qt},{default:(0,d.k6)((function(){return[(0,d.eW)((0,v.v_)((0,f.R1)(T)("page.organizes.docus.buttonSubmit")),1)]})),_:1},8,["disabled"])),[[z,Ze.value]])])]})),default:(0,d.k6)((function(){return[(0,d.Lk)("div",Q,[(0,d.Lk)("span",null,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickNavText")),1),(0,d.bF)(o,{type:"warning",title:(0,f.R1)(T)("page.organizes.docus.quickNavAlert"),"show-icon":""},null,8,["title"])]),(0,d.Lk)("div",U,[(0,d.Lk)("div",V,[(0,d.bF)(x,{model:Ye.value,rules:tt,ref_key:"uploadFormRef",ref:et,class:"uploadForm",onSubmit:t[4]||(t[4]=(0,g.D$)((function(){}),["prevent"]))},{default:(0,d.k6)((function(){return[(0,d.bF)(s,{label:(0,f.R1)(T)("page.organizes.docus.tb-label-type"),"label-position":"left",prop:"type"},{default:(0,d.k6)((function(){return["2"===Ye.value.type?((0,d.uX)(),(0,d.CE)("div",H,[(0,d.Lk)("a",{class:"ml",href:lt.value,target:"_blank"},(0,v.v_)((0,f.R1)(T)("page.organizes.docus.downloadQALink")),9,P)])):(0,d.Q3)("",!0)]})),_:1},8,["label"]),(0,d.bF)(s,{"label-width":0},{default:(0,d.k6)((function(){return[(0,d.eW)((0,v.v_)(Ye.value.typeStr),1)]})),_:1}),(0,d.bF)(s,{label:(0,f.R1)(T)("page.organizes.docus.tb-label-lang"),"label-position":"top",prop:"lang"},null,8,["label"]),(0,d.bF)(s,{"label-width":0},{default:(0,d.k6)((function(){return[(0,d.bF)(p,{modelValue:Ye.value.lang,"onUpdate:modelValue":t[1]||(t[1]=function(e){return Ye.value.lang=e}),name:"lang"},{default:(0,d.k6)((function(){return[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(yt.value,(function(e){return(0,d.uX)(),(0,d.Wv)(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,d.bF)(s,{"label-position":"left",label:(0,f.R1)(T)("page.organizes.docus.tb-label-tags")},{default:(0,d.k6)((function(){return[(0,d.Lk)("span",O,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.dialogTagHint")),1)]})),_:1},8,["label"]),(0,d.bF)(s,{"label-width":0},{default:(0,d.k6)((function(){return[(0,d.bF)(m,{class:"select-tags",modelValue:Ye.value.tags,"onUpdate:modelValue":t[2]||(t[2]=function(e){return Ye.value.tags=e}),multiple:"",clearable:"",filterable:"","allow-create":"","default-first-option":"","multiple-limit":5,"reserve-keyword":!1,onKeyup:(0,g.jR)(Dt,["enter"]),onBlur:Dt,onChange:Ct,onInput:qt,style:{flex:"1"},placeholder:"Please select or enter tags"},{default:(0,d.k6)((function(){return[(0,d.Lk)("div",j,[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(vt.value,(function(e){return(0,d.uX)(),(0,d.Wv)(k,{key:e,label:e,value:e},null,8,["label","value"])})),128))])]})),_:1},8,["modelValue"])]})),_:1}),(0,d.bF)(s,{required:"",class:"uploadForm-upload","label-position":"top"},{label:(0,d.k6)((function(){return[(0,d.Lk)("div",M,[(0,d.Lk)("span",$,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.uploadDirectoryHint")),1),(0,d.Lk)("span",G,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.uploadDirectoryDetail")),1)])]})),default:(0,d.k6)((function(){return[(0,d.bF)(h,{"file-list":nt.value,"onUpdate:fileList":t[3]||(t[3]=function(e){return nt.value=e}),accept:"2"===Ye.value.type?".xlsx":".pptx,.pdf,.md,.docx,.txt","show-file-list":!1,drag:"",multiple:"","before-upload":Et,"on-exceed":Xt,"http-request":It,limit:3e3-bt.value,ref_key:"uploadDirectoryRef",ref:Je,directory:""},{default:(0,d.k6)((function(){return[(0,d.Lk)("div",J,[(0,d.Lk)("div",Y,[(0,d.bF)((0,f.R1)(b.A),{type:"pk-addplus"}),(0,d.Lk)("div",Z,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.uploadDirectoryText")),1),(0,d.Q3)("",!0)])])]})),_:1},8,["file-list","accept","limit"])]})),_:1})]})),_:1},8,["model","rules"])]),(0,d.Lk)("div",ee,[(0,d.Lk)("div",te,[(0,d.Lk)("div",ae,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickProgressTitle")),1),(0,d.Lk)("div",ne,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.quickProgressHint",{total:nt.value.length,progress:3e3-bt.value})),1)]),(0,d.bF)(R,{height:"64vh"},{default:(0,d.k6)((function(){return[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(nt.value,(function(e,t){return(0,d.uX)(),(0,d.CE)("div",{class:"upload-file-list",key:e.name},[(0,d.Lk)("div",re,[(0,d.bF)((0,f.R1)(b.A),{type:Kt(e),class:"w24 h24 wh24"},null,8,["type"])]),(0,d.Lk)("div",le,[(0,d.Lk)("div",ue,[(0,d.bF)(A.A,{content:e.name,placement:"top"},null,8,["content"])]),(0,d.Lk)("div",ie,(0,v.v_)((e.size/1024).toFixed(2))+"kb ",1)]),(0,d.Lk)("div",oe,[(0,d.bF)((0,f.R1)(b.A),{type:"pk-delete",class:"wh16",onClick:function(e){return Bt(t)}},null,8,["onClick"])])])})),128))]})),_:1})])])]})),_:1},8,["modelValue","title"]),(0,d.bo)((0,d.Lk)("div",{class:(0,v.C4)(["upload-state",rt.type])},[(0,d.Lk)("div",pe,[de,(0,d.Lk)("div",ve,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.uploadStateTitle")),1),(0,d.Lk)("div",fe,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.uploadStateSuccess",{successCount:rt.success})),1),(0,d.Lk)("div",ge,(0,v.v_)((0,f.R1)(T)("page.organizes.docus.uploadStateFail",{failCount:rt.fail})),1),(0,d.Lk)("div",ke,["expand"===rt.type?((0,d.uX)(),(0,d.Wv)((0,f.R1)(b.A),{key:0,type:"pk-shrink",class:"wh16",onClick:t[7]||(t[7]=function(e){return rt.type="expanded"})})):((0,d.uX)(),(0,d.Wv)((0,f.R1)(b.A),{key:1,type:"pk-expand",class:"wh16",onClick:t[8]||(t[8]=function(e){return rt.type="expand"})})),(0,d.bF)((0,f.R1)(b.A),{type:"pk-knowclose",class:"wh16",onClick:t[9]||(t[9]=function(e){return rt.show=!1})})])]),"expand"!==rt.type?((0,d.uX)(),(0,d.CE)("div",me,[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(rt.fileList,(function(e,t){return(0,d.uX)(),(0,d.CE)(d.FK,{key:e},[e?((0,d.uX)(),(0,d.CE)("div",{key:0,class:(0,v.C4)(["upload-state-list",3===(0,f.R1)(We)(e.state,e.parserState)?"red":""])},[(0,d.Lk)("div",he,[(0,d.bF)((0,f.R1)(b.A),{type:Kt(e),class:"w24 h24 wh24"},null,8,["type"])]),(0,d.Lk)("div",be,[(0,d.Lk)("div",ye,[(0,d.bF)(A.A,{content:e.name,placement:"top"},null,8,["content"])]),(0,d.Lk)("div",we,(0,v.v_)((e.size/1024).toFixed(2))+"kb ",1),(0,d.Lk)("div",Ae,(0,v.v_)(e.uploadedAt),1)]),(0,d.Lk)("div",{class:(0,v.C4)(["state",{red:e.error}])},[(0,d.bF)(i,{content:e.error,effect:"light"},{default:(0,d.k6)((function(){return[(0,d.eW)((0,v.v_)(e.error?(0,f.R1)(T)("page.organizes.docus.uploadFail"):(0,f.R1)(Se)[(0,f.R1)(We)(e.state,e.parserState)]),1)]})),_:2},1032,["content"])],2),(0,d.Lk)("div",xe,[(0,d.bF)((0,f.R1)(b.A),{type:"pk-delete",class:"wh16",onClick:function(e){return Nt(t)}},null,8,["onClick"])])],2)):(0,d.Q3)("",!0)],64)})),128))])):(0,d.Q3)("",!0)],2),[[g.aG,rt.show]]),(0,d.bF)(L,{title:at.docName,width:"50vw",modelValue:at.show,"onUpdate:modelValue":t[10]||(t[10]=function(e){return at.show=e})},{default:(0,d.k6)((function(){return[(0,d.Lk)("div",Re,[(0,d.bF)(w.A,{uuid:at.uuid,history:at.history,sourceUrl:at.sourceUrl},null,8,["uuid","history","sourceUrl"])])]})),_:1},8,["title","modelValue"])])),[[z,Ft.value]])}}}),ze=a(83940);const Fe=(0,ze.A)(Le,[["__scopeId","data-v-7ac6a8d6"]]);var _e=Fe}}]);