"use strict";(self["webpackChunkSensepedia"]=self["webpackChunkSensepedia"]||[]).push([[977],{71977:function(e,r,t){t.r(r),t.d(r,{default:function(){return k}});var n=t(28694),o=t(83487),s=t(97913),a={class:"main"},u={class:"title"},l={class:"text-align-right"};function i(e,r,t,i,d,m){var f=(0,n.g2)("el-input"),c=(0,n.g2)("el-form-item"),p=(0,n.g2)("el-button"),g=(0,n.g2)("router-link"),b=(0,n.g2)("el-alert"),v=(0,n.g2)("el-form");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.Lk)("h1",u,(0,o.v_)(e.t("page.user.register.form.title")),1),(0,n.bF)(v,{model:e.modelRef,rules:e.rulesRef,ref:"formRef"},{default:(0,n.k6)((function(){return[(0,n.bF)(c,{label:"",prop:"username"},{default:(0,n.k6)((function(){return[(0,n.bF)(f,{modelValue:e.modelRef.username,"onUpdate:modelValue":r[0]||(r[0]=function(r){return e.modelRef.username=r}),placeholder:e.t("page.user.register.form-item-username"),onKeydown:(0,s.jR)(e.handleSubmit,["enter"])},null,8,["modelValue","placeholder","onKeydown"])]})),_:1}),(0,n.bF)(c,{label:"",prop:"password"},{default:(0,n.k6)((function(){return[(0,n.bF)(f,{type:"password",modelValue:e.modelRef.password,"onUpdate:modelValue":r[1]||(r[1]=function(r){return e.modelRef.password=r}),placeholder:e.t("page.user.register.form-item-password"),onKeydown:(0,s.jR)(e.handleSubmit,["enter"])},null,8,["modelValue","placeholder","onKeydown"])]})),_:1}),(0,n.bF)(c,{label:"",prop:"confirm"},{default:(0,n.k6)((function(){return[(0,n.bF)(f,{type:"password",modelValue:e.modelRef.confirm,"onUpdate:modelValue":r[2]||(r[2]=function(r){return e.modelRef.confirm=r}),placeholder:e.t("page.user.register.form-item-confirmpassword"),onKeydown:(0,s.jR)(e.handleSubmit,["enter"])},null,8,["modelValue","placeholder","onKeydown"])]})),_:1}),(0,n.bF)(c,null,{default:(0,n.k6)((function(){return[(0,n.bF)(p,{type:"primary",class:"submit",onClick:e.handleSubmit,loading:e.submitLoading},{default:(0,n.k6)((function(){return[(0,n.eW)((0,o.v_)(e.t("page.user.register.form.btn-submit")),1)]})),_:1},8,["onClick","loading"]),(0,n.Lk)("div",l,[(0,n.bF)(g,{to:"/user/login"},{default:(0,n.k6)((function(){return[(0,n.eW)((0,o.v_)(e.t("page.user.register.form.btn-jump")),1)]})),_:1})])]})),_:1}),""===e.errorMsg||"undefined"===typeof e.errorMsg||e.submitLoading?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(b,{key:0,title:e.errorMsg,type:"error","show-icon":"",closable:!1},null,8,["title"]))]})),_:1},8,["model","rules"])])}var d=t(30882),m=t(79266),f=(t(81619),t(27015),t(44480),t(38118)),c=t(98836),p=t(74913),g=t(32228),b=t(74560),v=(0,n.pM)({name:"UserRegister",setup:function(){var e=(0,c.rd)(),r=(0,p.Pj)(),t=(0,g.s9)(),o=t.t,s=(0,f.Kh)({username:"",password:"",confirm:""}),a=(0,f.Kh)({username:[{required:!0,message:o("page.user.register.form-item-username.required")}],password:[{required:!0,message:o("page.user.register.form-item-password.required")}],confirm:[{validator:function(e,r,t){return""===r?Promise.reject(o("page.user.register.form-item-password.required")):r!==s.password?Promise.reject(o("page.user.register.form-item-confirmpassword.compare")):Promise.resolve()}}]}),u=(0,f.KR)(),l=(0,f.KR)(!1),i=function(){var t=(0,m.A)((0,d.A)().mark((function t(){var n,a,i;return(0,d.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return l.value=!0,t.prev=1,t.next=4,null===(n=u.value)||void 0===n?void 0:n.validate();case 4:if(a=t.sent,!0!==a){t.next=10;break}return t.next=8,r.dispatch("userregister/register",s);case 8:i=t.sent,!0===i&&(b.nk.success(o("page.user.register.form.register-success")),e.replace("/user/login"));case 10:t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](1),console.log("error",t.t0),b.nk.warning(o("app.global.form.validatefields.catch"));case 16:l.value=!1;case 17:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}(),v=(0,n.EW)((function(){return r.state.userregister.errorMsg}));return{t:o,modelRef:s,rulesRef:a,formRef:u,submitLoading:l,handleSubmit:i,errorMsg:v}}}),w=t(83940);const h=(0,w.A)(v,[["render",i],["__scopeId","data-v-2f96f1b8"]]);var k=h}}]);