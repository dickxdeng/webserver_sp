"use strict";(self["webpackChunkSensepedia"]=self["webpackChunkSensepedia"]||[]).push([[281],{97613:function(e,n,a){a.r(n),a.d(n,{default:function(){return q}});var l=a(28724),t=a(30882),r=a(79266),o=(a(71171),a(96919),a(64536),a(19382),a(58926),a(33434),a(29306),a(10348),a(24546),a(81619),a(28694)),u=a(83487),i=a(38118),p=a(97913),c=a(74560),d=(a(19477),a(12567)),g=a(59531),s=a(36981),f=a(94102),b=a(51832),m=a(85158),v=a(81329),h=a(82365),k=a(32228),R=a(98836),F=a(74913),z={class:"main"},_={class:"main-top"},w={class:"main-top-nav"},y={class:"main-top-batch"},V={class:"th-s-label"},A={class:"th-s"},C=["src"],x={class:"operations"},L={class:"upload-form"},K=["onClick"],W=["src"],X={class:"dialog-footer"},S={class:"edit-form"},U=["onClick"],E=["src","alt"],T={class:"dialog-footer"},I={class:"detail-form"},N={class:"dialog-footer"},P=(0,o.pM)({__name:"index",setup:function(e){var n=(0,k.s9)(),a=n.t,P=(0,F.Pj)(),Q=((0,R.rd)(),(0,b.A)()),j=(Q.STATES,Q.LANGS),q=(Q.LangOptions,Q.StatusOptions,[{icon:"story",value:"/images/general-story.svg",title:""},{icon:"notify",value:"/images/general-notify.svg",title:""},{icon:"code",value:"/images/general-code.svg",title:""},{icon:"daily",value:"/images/general-daily.svg",title:""}]),D=(0,i.Kh)({reload:!0,loading:!1,list:[],pagination:{total:0,current:1,pageSize:10,sizeChange:function(){},onChange:function(e){}}}),O=(0,i.KR)([]),B=(0,f.A)("/organize/system/prompt",function(){var e=(0,r.A)((0,t.A)().mark((function e(n,a){var l,o,u,i;return(0,t.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return D.loading=!0,n.language=n.language||ue.value,e.next=4,(0,h.n_)(n);case 4:l=e.sent,o=l.rows,u=l.data,i=o||u,D.list=i.map((function(e){return e.lang=j[e.language],e})),D.pagination={total:l.total||0,current:Number(n.page)||1,pageSize:Number(n.perPage)||10,sizeChange:function(){var e=(0,r.A)((0,t.A)().mark((function e(n){return(0,t.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return D.reload=!1,e.next=3,te({perPage:n,page:1});case 3:setTimeout((function(){return D.reload=!0}),400);case 4:case"end":return e.stop()}}),e)})));function n(n){return e.apply(this,arguments)}return n}(),onChange:function(e){return te({page:e})}},D.loading=!1;case 10:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),G=B.pushQuery,H=(B.queryParams,function(e){O.value=e}),J=((0,i.KR)(!0),(0,o.EW)((function(){return 0===O.value.length})),(0,i.KR)(!1),(0,i.KR)(!1)),M=(0,i.KR)(!1),$=(0,i.Kh)({name:""}),Y=(0,i.Kh)({name:[{required:!0,trigger:"blur"}]}),Z=(0,i.KR)(!1),ee=(0,i.KR)(!1),ne=(0,i.Kh)({id:0,name:""}),ae=(0,i.Kh)({name:[{required:!0,trigger:"blur"}]}),le=(0,i.KR)(!1),te=((0,i.KR)({}),function(){var e=(0,r.A)((0,t.A)().mark((function e(n){var a;return(0,t.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=(0,l.A)({},ie),G((0,l.A)((0,l.A)((0,l.A)({},a),{},{page:D.pagination.current,perPage:D.pagination.pageSize},n),{},{refresh:(0,v.pr)(new Date)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),re=function(){var e=(0,r.A)((0,t.A)().mark((function e(){return(0,t.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return ie.name="",ie.language=ue.value,D.reload=!1,e.next=5,te({page:1});case 5:setTimeout((function(){return D.reload=!0}),400);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=(0,m.Ju)(te),ue=oe.defaultLang,ie=(0,i.Kh)({name:"",language:ue.value}),pe=(0,o.EW)((function(){return Object.entries(j).map((function(e){return{value:e[0],label:e[1]}})).filter((function(e){return"ALL"!==e.value}))})),ce=function(e,n){return!0},de=function(e){ne.icon=e.value,$.icon=e.value},ge=function(e){ne.id=e.id,ne.title=e.title,ne.content=e.content,ne.description=e.description,ne.language=e.language,ne.icon=e.icon,Z.value=!0},se=function(){var e=(0,r.A)((0,t.A)().mark((function e(){return(0,t.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!ne.id){e.next=11;break}return e.next=4,(0,h.hc)(ne);case 4:e.sent,c.nk.success(a("page.organizes.docus.editSuccess")),Z.value=!1,ne.id="",G((0,l.A)((0,l.A)({},ie),{},{refresh:(0,v.pr)(new Date)})),e.next=17;break;case 11:return e.next=13,(0,h.WQ)($);case 13:e.sent,c.nk.success(a("page.organizes.docus.addSuccess")),J.value=!1,G((0,l.A)((0,l.A)({},ie),{},{refresh:(0,v.pr)(new Date)}));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();return(0,o.sV)((0,r.A)((0,t.A)().mark((function e(){return(0,t.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:P.commit("global/setLefter",!0);case 1:case"end":return e.stop()}}),e)})))),(0,o.hi)((function(){P.commit("global/setLefter",!1)})),function(e,n){var l=(0,o.g2)("el-button"),t=(0,o.g2)("el-option"),r=(0,o.g2)("el-select"),c=(0,o.g2)("el-col"),f=(0,o.g2)("el-row"),b=(0,o.g2)("el-table-column"),m=(0,o.g2)("el-input"),v=(0,o.g2)("el-form-item"),h=(0,o.g2)("el-form"),k=(0,o.g2)("el-dialog"),R=(0,o.gN)("loading");return(0,o.uX)(),(0,o.CE)("div",z,[(0,o.Lk)("div",_,[(0,o.Lk)("div",w,(0,u.v_)((0,i.R1)(a)("page.organizes.prompt.topNav")),1),(0,o.Lk)("div",y,[(0,o.Q3)("",!0),(0,o.Q3)("",!0)])]),D.reload?((0,o.uX)(),(0,o.Wv)(g.A,{key:0,"row-key":"id",data:D.list,loading:D.loading,pagination:D.pagination,onHandleSelection:H},{header:(0,o.k6)((function(){return[(0,o.bF)(f,{onKeydown:(0,p.jR)(te,["enter"])},{default:(0,o.k6)((function(){return[(0,o.bF)(c,{span:9},{default:(0,o.k6)((function(){return[(0,o.Lk)("span",V,(0,u.v_)((0,i.R1)(a)("page.organizes.prompt.th-s-label-lang")),1),(0,o.bF)(r,{modelValue:ie.language,"onUpdate:modelValue":n[0]||(n[0]=function(e){return ie.language=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.th-s-label-lang-holder")},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(pe.value,(function(e){return(0,o.uX)(),(0,o.Wv)(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder"])]})),_:1}),(0,o.bF)(c,{span:15},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",A,[(0,o.bF)(l,{class:"th-s-button color-huge border-huge",onClick:re},{icon:(0,o.k6)((function(){return[(0,o.bF)((0,i.R1)(d.A),{type:"pk-refresh"})]})),default:(0,o.k6)((function(){return[(0,o.eW)(" "+(0,u.v_)((0,i.R1)(a)("page.organizes.prompt.reset")),1)]})),_:1}),(0,o.bF)(l,{type:"primary",class:"th-s-button",onClick:te},{icon:(0,o.k6)((function(){return[(0,o.bF)((0,i.R1)(d.A),{type:"pk-search"})]})),default:(0,o.k6)((function(){return[(0,o.eW)(" "+(0,u.v_)((0,i.R1)(a)("page.organizes.prompt.search")),1)]})),_:1})])]})),_:1})]})),_:1})]})),default:(0,o.k6)((function(){return[(0,o.bF)(b,{type:"selection",width:"46",selectable:ce}),(0,o.bF)(b,{type:"index",width:"66",label:(0,i.R1)(a)("page.organizes.docus.tb-label-no")},null,8,["label"]),(0,o.bF)(b,{prop:"name",label:(0,i.R1)(a)("page.organizes.prompt.tb-label-name"),width:"200"},{default:(0,o.k6)((function(e){var n=e.row;return[(0,o.Lk)("span",null,(0,u.v_)(n.title),1)]})),_:1},8,["label"]),(0,o.bF)(b,{label:(0,i.R1)(a)("page.organizes.prompt.tb-label-lang"),prop:"lang",width:"160"},null,8,["label"]),(0,o.bF)(b,{label:(0,i.R1)(a)("page.organizes.prompt.tb-label-description"),prop:"description",width:"160"},null,8,["label"]),(0,o.bF)(b,{label:(0,i.R1)(a)("page.organizes.prompt.tb-label-icon"),prop:"icon",width:"100"},{default:(0,o.k6)((function(e){var n=e.row;return[(0,o.Lk)("img",{src:n.icon,width:"24",height:"24"},null,8,C)]})),_:1},8,["label"]),(0,o.bF)(b,{label:(0,i.R1)(a)("page.organizes.prompt.tb-label-content"),prop:"content","min-width":"160"},null,8,["label"]),(0,o.bF)(b,{label:(0,i.R1)(a)("page.organizes.prompt.tb-label-creator"),prop:"createBy",width:"160"},null,8,["label"]),(0,o.bF)(b,{label:(0,i.R1)(a)("page.organizes.prompt.tb-label-createTime"),prop:"createTime",width:"160"},null,8,["label"]),(0,o.bF)(b,{fixed:"right",label:(0,i.R1)(a)("page.organizes.prompt.tb-label-operate"),width:"200"},{default:(0,o.k6)((function(e){var n=e.row;e.$index;return[(0,o.Lk)("div",x,[(0,o.bF)(l,{type:"text",onClick:function(e){return ge(n)}},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.edit")),1)]})),_:2},1032,["onClick"]),(0,o.Q3)("",!0)])]})),_:1},8,["label"])]})),_:1},8,["data","loading","pagination"])):((0,o.uX)(),(0,o.Wv)(s.A,{key:1})),(0,o.bo)(((0,o.uX)(),(0,o.Wv)(k,{modelValue:J.value,"onUpdate:modelValue":n[6]||(n[6]=function(e){return J.value=e}),title:(0,i.R1)(a)("page.organizes.prompt.uploadTitle"),width:"824"},{footer:(0,o.k6)((function(){return[(0,o.Lk)("div",X,[(0,o.bF)(l,{onClick:n[5]||(n[5]=function(e){return J.value=!1})},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.cancel")),1)]})),_:1}),(0,o.bF)(l,{type:"primary",onClick:se},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.submit")),1)]})),_:1})])]})),default:(0,o.k6)((function(){return[(0,o.Lk)("div",L,[(0,o.bF)(h,{ref:"uploadFormRef",model:$,rules:Y,"label-width":"100px"},{default:(0,o.k6)((function(){return[(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-name"),prop:"title"},{default:(0,o.k6)((function(){return[(0,o.bF)(m,{modelValue:$.title,"onUpdate:modelValue":n[1]||(n[1]=function(e){return $.title=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-placeholder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-name")})},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-lang"),prop:"language"},{default:(0,o.k6)((function(){return[(0,o.bF)(r,{modelValue:$.language,"onUpdate:modelValue":n[2]||(n[2]=function(e){return $.language=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-placeholder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-lang")})},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(pe.value,(function(e){return(0,o.uX)(),(0,o.Wv)(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-icon"),prop:"icon"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,null,{default:(0,o.k6)((function(){return[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(q,(function(e){return(0,o.bF)(c,{span:6,key:e.icon},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",{class:(0,u.C4)(["upload-icon",$.icon===e.value?"active":""]),onClick:function(n){return de(e)}},[(0,o.Lk)("img",{src:e.value,width:"24",height:"24"},null,8,W)],10,K)]})),_:2},1024)})),64))]})),_:1})]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-description"),prop:"description"},{default:(0,o.k6)((function(){return[(0,o.bF)(m,{type:"textarea",modelValue:$.description,"onUpdate:modelValue":n[3]||(n[3]=function(e){return $.description=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-placeholder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-description")})},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-content"),prop:"content"},{default:(0,o.k6)((function(){return[(0,o.bF)(m,{type:"textarea",modelValue:$.content,"onUpdate:modelValue":n[4]||(n[4]=function(e){return $.content=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-placeholder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-content")})},null,8,["modelValue","placeholder"])]})),_:1},8,["label"])]})),_:1},8,["model","rules"])])]})),_:1},8,["modelValue","title"])),[[R,M.value]]),(0,o.bo)(((0,o.uX)(),(0,o.Wv)(k,{modelValue:Z.value,"onUpdate:modelValue":n[12]||(n[12]=function(e){return Z.value=e}),title:(0,i.R1)(a)("page.organizes.prompt.editTitle"),width:"824"},{footer:(0,o.k6)((function(){return[(0,o.Lk)("div",T,[(0,o.bF)(l,{onClick:n[11]||(n[11]=function(e){return Z.value=!1})},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.cancel")),1)]})),_:1}),(0,o.bF)(l,{type:"primary",onClick:se},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.submit")),1)]})),_:1})])]})),default:(0,o.k6)((function(){return[(0,o.Lk)("div",S,[(0,o.bF)(h,{ref:"editFormRef",model:ne,rules:ae,"label-width":"100px"},{default:(0,o.k6)((function(){return[(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-name"),prop:"title"},{default:(0,o.k6)((function(){return[(0,o.bF)(m,{modelValue:ne.title,"onUpdate:modelValue":n[7]||(n[7]=function(e){return ne.title=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-placeholder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-name")})},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-lang"),prop:"language"},{default:(0,o.k6)((function(){return[(0,o.bF)(r,{disabled:!0,modelValue:ne.language,"onUpdate:modelValue":n[8]||(n[8]=function(e){return ne.language=e})},{default:(0,o.k6)((function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(pe.value,(function(e){return(0,o.uX)(),(0,o.Wv)(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-icon"),prop:"icon"},{default:(0,o.k6)((function(){return[(0,o.bF)(f,null,{default:(0,o.k6)((function(){return[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(q,(function(e){return(0,o.bF)(c,{span:6,key:e.value},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",{class:(0,u.C4)(["upload-icon",e.value===ne.icon?"active":""]),onClick:function(n){return de(e)}},[(0,o.Lk)("img",{src:e.value,width:"24",height:"24",alt:e.title},null,8,E)],10,U)]})),_:2},1024)})),64))]})),_:1})]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-description"),prop:"description"},{default:(0,o.k6)((function(){return[(0,o.bF)(m,{type:"textarea",modelValue:ne.description,"onUpdate:modelValue":n[9]||(n[9]=function(e){return ne.description=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-placeholder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-description")})},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-content"),prop:"content"},{default:(0,o.k6)((function(){return[(0,o.bF)(m,{type:"textarea",modelValue:ne.content,"onUpdate:modelValue":n[10]||(n[10]=function(e){return ne.content=e}),placeholder:(0,i.R1)(a)("page.organizes.prompt.dialog-holder",{holder:(0,i.R1)(a)("page.organizes.prompt.dialog-label-content")})},null,8,["modelValue","placeholder"])]})),_:1},8,["label"])]})),_:1},8,["model","rules"])])]})),_:1},8,["modelValue","title"])),[[R,ee.value]]),(0,o.bF)(k,{modelValue:le.value,"onUpdate:modelValue":n[14]||(n[14]=function(e){return le.value=e}),title:(0,i.R1)(a)("page.organizes.prompt.detailTitle"),width:"824"},{footer:(0,o.k6)((function(){return[(0,o.Lk)("div",N,[(0,o.bF)(l,{onClick:n[13]||(n[13]=function(e){return le.value=!1})},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.cancel")),1)]})),_:1})])]})),default:(0,o.k6)((function(){return[(0,o.Lk)("div",I,[(0,o.bF)(h,null,{default:(0,o.k6)((function(){return[(0,o.bF)(v,{label:(0,i.R1)(a)("page.organizes.prompt.dialog-label-name"),prop:"name"},{default:(0,o.k6)((function(){return[(0,o.eW)((0,u.v_)((0,i.R1)(a)("page.organizes.prompt.dialog-label-name")),1)]})),_:1},8,["label"])]})),_:1})])]})),_:1},8,["modelValue","title"])])}}}),Q=a(83940);const j=(0,Q.A)(P,[["__scopeId","data-v-8e02003a"]]);var q=j}}]);