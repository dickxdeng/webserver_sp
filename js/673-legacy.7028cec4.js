"use strict";(self["webpackChunkSensepedia"]=self["webpackChunkSensepedia"]||[]).push([[673],{36981:function(e,t,a){a.d(t,{A:function(){return v}});var n=a(28694),r={class:"main-content-screen"},u={class:"screen-header"},l={class:"header-search"},s={class:"screen-content",ref:"conentRef"},o={class:"content-data",style:{gap:"16px"}},i={class:"screen-footer"},c={class:"footer-pagination"};function d(e,t,a,d,p,f){var g=(0,n.g2)("el-skeleton-item"),v=(0,n.g2)("el-skeleton");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",u,[(0,n.bF)(v,{animated:""},{template:(0,n.k6)((function(){return[(0,n.Lk)("div",l,[(0,n.bF)(g,{variant:"text",style:{height:"28px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px"}})])]})),_:1})]),(0,n.Lk)("div",s,[(0,n.bF)(v,{animated:""},{template:(0,n.k6)((function(){return[(0,n.Lk)("div",o,[(0,n.bF)(g,{variant:"text",style:{height:"28px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px"}})])]})),_:1})],512),(0,n.Lk)("div",i,[(0,n.bF)(v,{animated:""},{template:(0,n.k6)((function(){return[(0,n.Lk)("div",c,[(0,n.bF)(g,{variant:"text",style:{height:"28px",width:"128px"}}),(0,n.bF)(g,{variant:"text",style:{height:"28px",width:"128px"}})])]})),_:1})])])}var p=(0,n.pM)({name:"SkeleteTable",setup:function(e,t){}}),f=a(83940);const g=(0,f.A)(p,[["render",d],["__scopeId","data-v-60855484"]]);var v=g},31133:function(e,t,a){a.r(t),a.d(t,{default:function(){return We}});var n=a(35206),r=a(58712),u=a(51465),l=a(37288),s=a(15400),o=a(71425),i=a(28724),c=a(94470),d=a(30882),p=a(79266),f=(a(91234),a(64536),a(20897),a(4500),a(77111),a(19382),a(58926),a(14898),a(33434),a(29306),a(10348),a(35884),a(81619),a(27015),a(94301),a(47715),a(73780),a(50641),a(44480),a(88556),a(11657),a(28694)),g=a(83487),v=a(38118),h=a(97913),k=a(32228),b=a(74560),m=a(19477),w=a(12567),y=a(59531),x=a(36981),A=a(52582),L=a(18684),S=a(94102),z=a(51832),_=a(26497),F=a(81329),R=a(34197),C=a(74913),T=a(98836),I=a(1421),W=a.n(I),X=function(e){return(0,f.Qi)("data-v-5b60a427"),e=e(),(0,f.jt)(),e},K={class:"main"},P={class:"main-top"},D={class:"main-top-nav"},E={class:"main-top-batch"},V={class:"th-s-label"},U={class:"th-s-label"},Q={class:"th-s-label"},H={class:"th-s-label"},N={class:"th-s-label"},q={class:"th-s"},M={class:"actions"},B={class:"uploadForm-flex"},j={class:"uploadForm-left"},O={key:0,class:"flex-right"},Y=["href"],$={class:"dialog-hint"},G={class:"tag-flex"},J={class:"upload"},Z={class:"upload-plus upload-flex"},ee={class:"upload-text"},te={class:"upload-hint"},ae={key:0},ne={key:1},re={class:"uploadForm-right"},ue={class:"upload-progress-header"},le={class:"title"},se={class:"hint"},oe={class:"icon"},ie={class:"title"},ce={class:"name"},de={class:"kb"},pe={class:"actions"},fe={class:"dialog-footer"},ge={class:"tag-flex"},ve={class:"dialog-footer"},he={class:"top"},ke=X((function(){return(0,f.Lk)("div",{class:"upload-state-icon"},[(0,f.Lk)("img",{src:"/images/upload-state.png",class:"wh92"})],-1)})),be={class:"upload-state-title"},me={class:"upload-state-success"},we={class:"upload-state-fail"},ye={class:"upload-state-expand"},xe={key:0,class:"list"},Ae={class:"icon"},Le={class:"name"},Se={class:"text"},ze={class:"kb"},_e={class:"time"},Fe={class:"actions"},Re={class:"preview"},Ce=(0,f.pM)({__name:"index",setup:function(e){var t=(0,k.s9)(),a=t.locale,I=t.t,X=(0,T.rd)(),Ce=(0,C.Pj)(),Te=(0,f.EW)((function(){return Ce.state.user.currentUser})),Ie=(0,z.A)(),We=Ie.STATES,Xe=Ie.TYPES,Ke=Ie.LANGS,Pe=Ie.LangOptions,De=Ie.StatusOptions,Ee=Ie.TypeOptions,Ve=Ie.translateState,Ue=Ie.queryState,Qe=(0,v.Kh)({reload:!0,loading:!1,list:[],pagination:{total:0,current:Ce.state.organize.page,pageSize:Ce.state.organize.perPage,sizes:[10,50,100,1e3],sizeChange:function(){},onChange:function(e){}}}),He=(0,v.KR)([]),Ne=(0,S.A)("/organize/document",function(){var e=(0,p.A)((0,d.A)().mark((function e(t,a){var n,r,u;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Qe.loading=!0,e.next=3,(0,R.n_)(t);case 3:n=e.sent,r=n.rows,u=r||[],Qe.list=u.map((function(e){return e.docTags=(0,_.QV)(e.docTags||""),e.tags=""!==e.docTags?e.docTags.split(","):[],e.type=Xe[e.docType],e.lang=Ke[e.docLang||"zh-cn"],e.translateState=Ve(e.state,e.parserState),e.parserDetail=3!==e.translateState?e.parserDetail:"Parse Error",e})),Qe.pagination={total:n.total||0,current:t.page,pageSize:t.perPage,sizes:[10,50,100,1e3],sizeChange:function(){var e=(0,p.A)((0,d.A)().mark((function e(t){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Qe.reload=!1,e.next=3,Kt({perPage:t,page:1});case 3:setTimeout((function(){return Qe.reload=!0}),400);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),onChange:function(e){return Kt({page:e})}},xt(),Qe.loading=!1;case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),qe=Ne.pushQuery,Me=Ne.queryParams,Be=function(e){He.value=e},je=(0,f.EW)((function(){return Ce.state.global.openBulkUpload})),Oe=(0,f.EW)((function(){return 0===He.value.length})),Ye=(0,f.EW)((function(){return 0===He.value.length})),$e=(0,f.EW)((function(){return 0===He.value.length})),Ge=(0,f.EW)((function(){return 0===He.value.length})),Je=(0,v.KR)(!1),Ze=(0,v.KR)(!1),et=(0,v.KR)(!1),tt=(0,v.KR)(!1),at=(0,v.KR)(!1),nt=(0,v.KR)(!1),rt=(0,v.KR)(null),ut=(0,v.KR)(!1),lt=(0,v.Kh)({id:0,name:"",lang:"",tags:[]}),st=((0,v.KR)(!1),(0,v.KR)(null),(0,v.KR)(!1)),ot=(0,v.KR)({lang:"1",tags:[],type:"",files:[]}),it=(0,v.KR)(!1),ct=(0,v.KR)(null),dt=(0,v.Kh)({lang:[{required:!0,trigger:"change"}],name:[{required:!0,trigger:"blur"}],type:[{required:!0,trigger:"change"}]}),pt=(0,v.Kh)({show:!1,uuid:"",history:{},sourceUrl:"",docName:""}),ft=(0,v.KR)([]),gt=(0,v.Kh)({fileList:[],show:!1,success:0,fail:0,type:"expand"}),vt=(0,v.KR)("/preview/SampleQAData.xlsx"),ht={"File is empty":"The file is empty","Invalid file format":"Non-compliant with QA","Error embedding content":"Error embedding content","Unknown error":"Unknown error"},kt=1,bt=0,mt=function(){var e=(0,p.A)((0,d.A)().mark((function e(){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:bt&&(clearInterval(bt),bt=0),bt=setInterval((0,p.A)((0,d.A)().mark((function e(){var t,a,n,r;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!1,a=(0,d.A)().mark((function e(){var a,n,u,l,s,o;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=gt.fileList[r],n=a.state,u=a.parserState,l=a.docId,0!==Ve(n,u)&&3!==Ve(n,u)){e.next=4;break}return t=!0,e.abrupt("return",0);case 4:if(!gt.fileList[r].error){e.next=6;break}return e.abrupt("return",0);case 6:if(1!==Ve(n,u)&&2!==Ve(n,u)){e.next=20;break}if(!(l&&l.length>10)){e.next=19;break}return e.prev=8,e.next=11,(0,R.P)(l);case 11:s=e.sent,s&&s.data&&(gt.fileList[r].state=~~s.data.state,gt.fileList[r].parserState=~~s.data.parserState,Qe.list.forEach((function(e){e.docId===s.data.docId&&(e.state=s.data.state,e.parserState=s.data.parserState,e.parserDetail=4!==s.data.parserState?s.data.parserDetail:"Parse Failed",e.translateState=Ve(e.state,e.parserState))}))),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](8),gt.fileList[r].error=(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.msg)||"Failed",console.log(e.t0);case 19:gt.fileList[r].translateState<=2&&(t=!0);case 20:case"end":return e.stop()}}),e,null,[[8,15]])})),e.t0=(0,d.A)().keys(gt.fileList);case 3:if((e.t1=e.t0()).done){e.next=11;break}return r=e.t1.value,e.delegateYield(a(),"t2",6);case 6:if(n=e.t2,0!==n){e.next=9;break}return e.abrupt("continue",3);case 9:e.next=3;break;case 11:gt.success=gt.fileList.filter((function(e){return Ve(e.state,e.parserState)<=2})).length,gt.fail=gt.fileList.filter((function(e){return 3===Ve(e.state,e.parserState)})).length,kt++,(!t||kt>600)&&(clearInterval(bt),kt=1,bt=0,gt.show=!1,gt.fileList=[]);case 15:case"end":return e.stop()}}),e)}))),1e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wt=1,yt=0,xt=function(){var e=(0,p.A)((0,d.A)().mark((function e(){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:yt&&(clearInterval(yt),wt=1),yt=setInterval((0,p.A)((0,d.A)().mark((function e(){var t;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!1,Qe.list.forEach(function(){var e=(0,p.A)((0,d.A)().mark((function e(a){var n,r;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!==a.translateState&&2!==a.translateState&&7!==a.translateState&&9!==a.translateState){e.next=12;break}return t=!0,e.prev=2,e.next=5,(0,R.P)(a.docId);case 5:n=e.sent,n&&n.data&&(r=~~n.data.state,7===a.state&&1===r&&b.nk.error(I("page.organizes.docus.reverify")),a.state=r,a.parserState=~~n.data.parserState,a.parserDetail=4!==a.parserState?n.data.parserDetail:"Parse Failed",a.translateState=Ve(a.state,a.parserState)),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()),wt++,(!t||wt>600)&&(clearInterval(yt),wt=1,yt=0);case 4:case"end":return e.stop()}}),e)}))),6e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),At=1,Lt=0,St=function(){var e=(0,p.A)((0,d.A)().mark((function e(t){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Lt&&(clearInterval(Lt),At=1),Lt=setInterval((0,p.A)((0,d.A)().mark((function e(){var a,n,r,u;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=!1,n=(0,c.A)(t),e.prev=2,u=(0,d.A)().mark((function e(){var t,n,u;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.value,e.prev=1,n=Qe.list.findIndex((function(e){return e.docId===t})),-1===n||4===Qe.list[n].translateState){e.next=5;break}return e.abrupt("return",1);case 5:return a=!0,e.next=8,(0,R.P)(t);case 8:u=e.sent,u&&u.data&&-1!==n&&(Qe.list[n].state=~~u.data.state,Qe.list[n].parserState=~~u.data.parserState,Qe.list[n].translateState=Ve(Qe.list[n].state,Qe.list[n].parserState)),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})),n.s();case 5:if((r=n.n()).done){e.next=11;break}return e.delegateYield(u(),"t0",7);case 7:if(!e.t0){e.next=9;break}return e.abrupt("continue",9);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](2),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:At++,(!a||At>60)&&(clearInterval(Lt),At=1,Lt=0);case 21:case"end":return e.stop()}}),e,null,[[2,13,16,19]])}))),1e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zt=(0,v.KR)(""),_t=(0,v.KR)(!1),Ft=((0,v.KR)(),(0,v.KR)(["Tag","T","A","G"])),Rt=(0,v.KR)([]),Ct=["primary","info","warning","error","warning","primary","success","success"],Tt=(0,v.Kh)([{label:"全部",value:"ALL"},{label:"医学",value:"医学"},{label:"财经",value:"财经"},{label:"保险",value:"保险"},{label:"其他",value:"其他"}]),It=(0,v.Kh)(Ce.state.organize.searchInput),Wt=(0,f.EW)((function(){return Pe.filter((function(e){return"ALL"!==e.value}))})),Xt=(0,f.EW)((function(){return Ee.filter((function(e){return"ALL"!==e.value}))})),Kt=((0,f.EW)((function(){return Tt.filter((function(e){return"ALL"!==e.value}))})),function(){var e=(0,p.A)((0,d.A)().mark((function e(t){var a;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=(0,i.A)((0,i.A)((0,i.A)((0,i.A)({},It),Ue(It.state)),{},{perPage:Qe.pagination.pageSize,page:Qe.pagination.current},t),{},{refresh:(0,F.pr)(new Date)}),"ALL"===a.docLang&&delete a.docLang,"ALL"===a.docType&&delete a.docType,"ALL"===a.docTags&&delete a.docTags,delete a.state,delete a.parserState,qe(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Pt=function(){var e=(0,p.A)((0,d.A)().mark((function e(){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return It.docName="",It.docLang="ALL",It.state=0,It.docType="ALL",It.docTags="ALL",Qe.reload=!1,e.next=8,Kt({page:1});case 8:setTimeout((function(){return Qe.reload=!0}),400);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Kt({}),(0,f.nT)((function(){var e=[];Me.value.categoryId&&Me.value.categoryId.split(",").map((function(t){t&&e.push(Number(t))}));var t={keywords:Me.value.keywords||"",category:e,datetime:Me.value.startTime&&Me.value.endTime?[Me.value.startTime,Me.value.endTime]:[],tags:Me.value.tags?Me.value.tags.split(","):[]};It.name=t.keywords}));var Dt=function(){var e=(0,p.A)((0,d.A)().mark((function e(){var t,a;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(t=rt.value)||void 0===t||t.toggleSelect([6]),He.value=He.value.filter((function(e){return 6===e.translateState})),0!==He.value.length){e.next=5;break}return b.nk.error(I("page.organizes.docus.selectHint")),e.abrupt("return");case 5:a="<p>".concat(I("page.organizes.docus.batchStopHintDetail"),"</p>"),m.s.confirm(a,I("page.organizes.docus.hint"),{dangerouslyUseHTMLString:!0,confirmButtonText:I("page.organizes.docus.buttonSubmit"),cancelButtonText:I("page.organizes.docus.buttonCancel"),type:"warning"}).then((0,p.A)((0,d.A)().mark((function e(){var t,a;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return et.value=!0,t=He.value.map((function(e){return e.docId})),a=t.join(","),e.next=5,(0,R.ds)({ids:a});case 5:e.sent,b.nk.success(I("page.organizes.successMessage")),et.value=!1,Kt({refresh:(0,F.pr)(new Date)});case 9:case"end":return e.stop()}}),e)})))).catch((function(){et.value=!1}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Et=function(){var e=(0,p.A)((0,d.A)().mark((function e(){var t,a,n,r;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(t=rt.value)||void 0===t||t.toggleSelect([5,8]),He.value=He.value.filter((function(e){return 5===e.translateState||8===e.translateState})),0!==He.value.length){e.next=5;break}return b.nk.error(I("page.organizes.docus.selectHint")),e.abrupt("return");case 5:Ze.value=!0,a=1,He.value.map(function(){var e=(0,p.A)((0,d.A)().mark((function e(t){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(2!==t.docType){e.next=6;break}return e.next=3,(0,R.P)(t.docId,void 0,void 0);case 3:return e.next=5,(0,R.lD)({docId:t.docId});case 5:a++;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n=He.value.map((function(e){return e.docId})),r=n.join(","),setTimeout((0,p.A)((0,d.A)().mark((function e(){var t;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.mk)({ids:r});case 2:if(t=e.sent,!t||500!==~~t.code){e.next=8;break}if("resplit"!==t.msg){e.next=8;break}return Ze.value=!1,b.nk.error("Please verify first before clicking 'Publish'"),e.abrupt("return");case 8:b.nk.success(I("page.organizes.successMessage")),Ze.value=!1,xt(),Kt({});case 12:case"end":return e.stop()}}),e)}))),1e3*a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vt=function(){var e=(0,p.A)((0,d.A)().mark((function e(){var t;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==He.value.length){e.next=3;break}return b.nk.error(I("page.organizes.docus.selectHint")),e.abrupt("return");case 3:t="<p>".concat(I("page.organizes.docus.batchDeleteHintDetail"),"</p>"),m.s.confirm(t,I("page.organizes.docus.hint"),{dangerouslyUseHTMLString:!0,confirmButtonText:I("page.organizes.docus.buttonSubmit"),cancelButtonText:I("page.organizes.docus.buttonCancel"),customClass:"del-message-box",type:"warning"}).then((0,p.A)((0,d.A)().mark((function e(){var t,a;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Je.value=!0,t=He.value.map((function(e){return e.docId})),a=t.join(","),e.next=5,(0,R.TF)({docIds:a});case 5:e.sent,b.nk.success(I("page.organizes.docus.deleteSuccess")),Je.value=!1,Kt({refresh:(0,F.pr)(new Date)});case 9:case"end":return e.stop()}}),e)})))).catch((function(){Je.value=!1}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ut=function(e){console.error(e)},Qt=function(e){},Ht=function(e){null===e||void 0===e||e.stopPropagation(),_t.value=!1,zt.value=""},Nt=function(){var e=(0,p.A)((0,d.A)().mark((function e(){var t,a;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(t=rt.value)||void 0===t||t.toggleSelect([4]),He.value=He.value.filter((function(e){return 4===e.translateState})),0!==He.value.length){e.next=5;break}return b.nk.error(I("page.organizes.docus.selectHint")),e.abrupt("return");case 5:tt.value=!0,1,He.value.map(function(){var e=(0,p.A)((0,d.A)().mark((function e(t){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.P)(t.docId,void 0,void 0);case 2:return e.next=4,(0,R.lD)({docId:t.docId});case 4:0;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a=He.value.map((function(e){return e.docId})),St(a),Kt({}),tt.value=!1;case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qt=function(){var e=(0,p.A)((0,d.A)().mark((function e(){var t;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.q7)();case 2:t=e.sent,t.data.progress&&t.data.admin!==Te.value.name?b.nk.error(I("page.organizes.docus.batchQuickHint")):X.push({path:"/organize/quick"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Mt=function(){var e=(0,p.A)((0,d.A)().mark((function e(t){var a;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(gt.fileList.filter((function(e){return 4!==e.parserState})).length>0)){e.next=3;break}return b.nk.error("The document is being uploaded, please process it later."),e.abrupt("return");case 3:ot.value.type="text"===t?"1":"2",ot.value.typeStr=null===(a=Xt.value.find((function(e){return e.value===ot.value.type})))||void 0===a?void 0:a.label,ot.value.typeStr="2"===ot.value.type?ot.value.typeStr+" ("+I("page.organizes.docus.dialogXlsxHint")+")":ot.value.typeStr,ot.value.lang="zh-cn",ot.value.tags=[],ot.value.files=[],ft.value=[],at.value=!1,st.value=!0;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=function(e){ut.value=!0,lt.row=e,lt.docId=e.docId,lt.name=e.docName,lt.lang=e.docLang,lt.tags=e.docTags?e.docTags.split(","):[]},jt=function(){var e=(0,p.A)((0,d.A)().mark((function e(){var t;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=lt.lang&&lt.name,t){e.next=4;break}return b.nk.error(I("page.organizes.docus.errorForm")),e.abrupt("return");case 4:return e.next=6,(0,R.hc)({docId:lt.docId,docLang:lt.lang,docName:lt.name,docTags:lt.tags.join(",")});case 6:pa(),b.nk.success(I("page.organizes.successMessage")),lt.row.docName=lt.name,lt.row.docLang=lt.lang,lt.row.docTags=lt.tags.join(","),lt.row.tags=lt.tags,lt.row.lang=Ke[lt.lang],ut.value=!1;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ot=function(){var e=(0,p.A)((0,d.A)().mark((function e(t){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.P)(t.docId,"preview",null);case 2:pt.show=!0,pt.uuid=t.docId,pt.sourceUrl=t.sourceFile,pt.docName=t.docName;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=(0,p.A)((0,d.A)().mark((function e(t){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t["reParseLoading"]=!0,(0,R.Ty)({docId:t.docId}).then((function(e){t["reParseLoading"]=!1})),t.translateState=2,xt();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$t=function(e){X.push({path:"/organize/document/preview/"+e.docId+"?split=1",query:{split:1}})},Gt=function(){var e=(0,p.A)((0,d.A)().mark((function e(t){var a,n,r;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.bc)({docId:t.docId});case 2:a=e.sent,null!==a&&void 0!==a&&a.data?(n=I("page.organizes.docus.splitDetail"),r=I("page.organizes.docus.hint"),m.s.confirm(n,r,{confirmButtonText:I("page.organizes.docus.buttonSubmit"),cancelButtonText:I("page.organizes.docus.buttonCancel"),type:"warning"}).then((function(){X.push({path:"/organize/document/preview/"+t.docId})}))):X.push({path:"/organize/document/preview/"+t.docId});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(){var e=(0,p.A)((0,d.A)().mark((function e(t){var a;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.mk)({ids:t.docId});case 2:if(a=e.sent,!a||500!==~~a.code){e.next=9;break}if(nt.value=!1,"resplit"!==a.msg){e.next=9;break}return t["hide"]=!0,b.nk.error("Please verify first before clicking 'Publish'"),e.abrupt("return");case 9:if(!a||200===~~a.code){e.next=14;break}return b.nk.error("System Error "+a.msg),nt.value=!1,t["publishLoading"]=!1,e.abrupt("return");case 14:t.state=7,t.translateState=7,t["publishLoading"]=!1,nt.value=!1,xt();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=function(){var e=(0,p.A)((0,d.A)().mark((function e(t){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!nt.value){e.next=3;break}return b.nk.error("Document publishing in progress. Please try again later."),e.abrupt("return");case 3:return nt.value=!0,t["publishLoading"]=!0,t["hide"]=!1,e.prev=6,e.next=9,(0,R.P)(t.docId,void 0,void 0);case 9:if(2!==t.docType){e.next=14;break}return e.next=12,(0,R.lD)({docId:t.docId});case 12:return setTimeout((0,p.A)((0,d.A)().mark((function e(){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Jt(t);case 1:case"end":return e.stop()}}),e)}))),1e3),e.abrupt("return");case 14:Jt(t),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](6),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}(),ea=function(){var e=(0,p.A)((0,d.A)().mark((function e(t){var a,n;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.pq)({docId:t.docId});case 2:if(a=e.sent,t.knowledgeCount=(null===a||void 0===a?void 0:a.data.length)||0,0!==t.knowledgeCount){e.next=11;break}return e.next=7,(0,R.ds)({ids:t.docId});case 7:return b.nk.success(I("page.organizes.successMessage")),t.state=4,t.translateState=5,e.abrupt("return");case 11:n="<p>".concat(I("page.organizes.docus.stopHintDetail",{knowledgeCount:t.knowledgeCount}),"</p>"),null===a||void 0===a||a.data.map((function(e){n+='<el-tag class="el-tag el-tag--success__hint el-tag--light color-huge">'.concat(e.knowledgeName,"</el-tag> ")})),m.s.confirm(n,I("page.organizes.docus.hint"),{dangerouslyUseHTMLString:!0,confirmButtonText:I("page.organizes.docus.buttonSubmit"),cancelButtonText:I("page.organizes.docus.buttonCancel"),customClass:"del-message-box",type:"warning"}).then((0,p.A)((0,d.A)().mark((function e(){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.ds)({ids:t.docId});case 2:b.nk.success(I("page.organizes.successMessage")),t.state=4,t.translateState=5;case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ta=function(e,t){return e.translateState>0},aa=function(e){return e.name.includes(".xls")?"pk-xlsx":e.name.includes(".md")?"pk-md":e.name.includes(".doc")?"pk-docx":e.name.includes(".ppt")||e.name.includes(".txt")?"pk-txt":"pk-pdf"};(0,f.nT)((function(){"zh-CN"===a.value||"zh-TW"===a.value?vt.value="/preview/SampleQAData.xlsx":vt.value="/preview/SampleQAData-EN.xlsx"}));var na=function(e){if(""===ot.value.type)return b.nk.error(I("page.organizes.docus.errorType")),!1;var t=e.name.replace(/.+\./,"");if(2===~~ot.value.type&&!["xlsx"].includes(t))return b.nk.error('Please upload "QA" documents, including XLSX files.'),!1;if(2!==~~ot.value.type&&!["docx","pdf","md","txt"].includes(t))return b.nk.error('Please upload "text" documents, including PDF, DOCX, MD and TXT files.'),!1;var a=e.name;if(a.match(/\[|\]|\^|\$|￥/g))return b.nk.error("Please do not use special characters in the file name."),!1;var n=104857600;return n<e.size?(b.nk.error("Exceed Limit 100M"+e.name),!1):(at.value=!0,!0)},ra=function(){b.nk.error(I("page.organizes.docus.exceedLimit",{limit:10}))},ua=function(){var e=(0,p.A)((0,d.A)().mark((function e(t){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),la=function(e){ft.value.splice(e,1)},sa=function(e){gt.fileList.splice(e,1),0===gt.fileList.length&&(gt.show=!1)},oa=function(e){return new Promise((function(t,a){var n=new FileReader(e);n.readAsText(e,"utf-8"),n.onload=function(e){var a=e.target.result,n=W().MD5(a).toString(W().enc.Hex);t(n)}}))},ia=function(){var e=(0,p.A)((0,d.A)().mark((function e(){var t,a,n,r;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:ot.value.tags.length>0&&ot.value.type&&ot.value.lang,it.value=!0,gt.fileList=[],gt.success=0,gt.fail=0,gt.type="expand",t=[],a=[],n=(0,d.A)().mark((function e(n){var r,u;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("docTags",ot.value.tags.join(",")),r.append("docType",ot.value.type),r.append("docLang",ot.value.lang),r.append("file",ft.value[n].raw),e.next=7,oa(ft.value[n].raw);case 7:if(u=e.sent,!t.includes(u)){e.next=11;break}return b.nk.error(I("page.organizes.docus.fileDup")+ft.value[n].name),e.abrupt("return",1);case 11:t.push(u),gt.fileList[n]={state:0,parserState:-1,uploadedAt:(0,F.pr)(new Date),name:ft.value[n].name,raw:ft.value[n].raw,md5:u,size:ft.value[n].size},gt.success=gt.fileList.filter((function(e){return Ve(e.state,e.parserState)<=2})).length,gt.fail=gt.fileList.filter((function(e){return 3===Ve(e.state,e.parserState)})).length,a.push(new Promise((function(e,t){(function(a,n){(0,R.WQ)(n).then((function(r){if(pa(),r&&"object"===(0,o.A)(r.data)){if(1===r.data.code||5===r.data.code)return gt.fileList[a].parserState=4,gt.fileList[a].error=I("page.organizes.docus.fileDup"),b.nk.error(I("page.organizes.docus.fileDup")+n.get("file").name),void e();r&&200!==r.code?(gt.fileList[a].parserState=4,gt.fileList[a].error=r.msg,t()):r&&r.data&&(r.data.lang=Ke[r.data.docLang],r.data.type=Xe[r.data.docType],r.data.tags=r.data.docTags?r.data.docTags.split(","):[],r.data.translateState=Ve(r.data.state,r.data.parserState),r.data.parserDetail=3!==r.data.translateState?r.data.parserDetail:"Parse Failed",Qe.list.unshift(r.data),xt(),gt.fileList[a]&&(gt.fileList[a].docId=r.data.docId,gt.fileList[a].state=r.data.state>0?r.data.state:1,gt.fileList[a].parserState=r.data.parserState?r.data.parserState:4),Ve(gt.fileList[a].state,gt.fileList[a].parserState)>=4&&(0,R.P)(r.data.docId),3===Ve(gt.fileList[a].state,gt.fileList[a].parserState)&&delete gt.fileList[a],b.nk.success(I("page.organizes.docus.uploadSuccess")+n.get("file").name)),e()}else r&&200!==r.code&&(gt.fileList[a].parserState=4,gt.fileList[a].error=r.msg,t())})).catch((function(e){gt.fileList[a].parserState=4,gt.fileList[a].error=e.msg,t()}))})(n,r)})));case 16:case"end":return e.stop()}}),e)})),r=0;case 10:if(!(r<ft.value.length)){e.next=17;break}return e.delegateYield(n(r),"t0",12);case 12:if(!e.t0){e.next=14;break}return e.abrupt("continue",14);case 14:r++,e.next=10;break;case 17:return ft.value=[],ot.value.tags=[],it.value=!1,st.value=!1,gt.show=!0,mt(),e.prev=23,e.next=26,Promise.all(a);case 26:e.next=31;break;case 28:e.prev=28,e.t1=e["catch"](23),console.error(e.t1);case 31:case"end":return e.stop()}}),e,null,[[23,28]])})));return function(){return e.apply(this,arguments)}}(),ca=function(){var e=(0,p.A)((0,d.A)().mark((function e(t,a){var n,r;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.pq)({docId:a.docId});case 2:return n=e.sent,a.knowledgeCount=n&&n.data?n.data.length:0,r="<p>".concat(I("page.organizes.docus.deleteHintDetail",{knowledgeCount:a.knowledgeCount}),"</p>"),null===n||void 0===n||n.data.map((function(e){r+='<el-tag class="el-tag el-tag--success__hint el-tag--light color-huge">'.concat(e.knowledgeName,"</el-tag> ")})),a.hintHtml=r,e.next=9,da(t,a);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),da=function(){var e=(0,p.A)((0,d.A)().mark((function e(t,a){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Qe.list[t]["delLoading"]=!0;try{m.s.confirm(a.hintHtml,I("page.organizes.docus.hint"),{dangerouslyUseHTMLString:!0,confirmButtonText:I("page.organizes.docus.buttonSubmit"),cancelButtonText:I("page.organizes.docus.buttonCancel"),customClass:"del-message-box",type:"warning"}).then((0,p.A)((0,d.A)().mark((function e(){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,R.TF)({docIds:a.docId});case 2:b.nk.success(I("page.organizes.docus.deleteSuccess")),Qe.list.length>1?Qe.list.splice(t,1):Kt({refresh:(0,F.pr)(new Date)});case 4:case"end":return e.stop()}}),e)})))).catch((function(){Qe.list[t]["delLoading"]=!1}))}catch(n){b.nk.warning(n.msg||n||"error"),Qe.list[t]["delLoading"]=!1}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();(0,f.sV)((0,p.A)((0,d.A)().mark((function e(){var t;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return xt(),pa(),e.next=4,(0,R.q7)();case 4:t=e.sent,t&&t.data.progress&&X.push({path:"/organize/quick"});case 6:case"end":return e.stop()}}),e)})))),(0,f.hi)((function(){Ce.commit("organize/settingState",{searchInput:It,page:Qe.pagination.current,perPage:Qe.pagination.pageSize}),clearInterval(bt),clearInterval(yt),clearInterval(Lt)}));var pa=function(){(0,R.Q2)().then((function(e){Ft.value=e.data,Rt.value=["ALL"].concat((0,s.A)(e.data))}))},fa=function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];a&&clearTimeout(a),a=setTimeout((function(){e.apply(void 0,r)}),t)}},ga=window.ResizeObserver;return window.ResizeObserver=function(e){function t(e){return(0,r.A)(this,t),e=fa(e,100),(0,u.A)(this,t,[e])}return(0,l.A)(t,e),(0,n.A)(t)}(ga),window.onbeforeunload=function(){if(gt.fileList.length)return I("page.organizes.docus.unload")},window.addEventListener("beforeunload",(function(e){gt.fileList.length&&(e.returnValue=I("page.organizes.docus.unload"))})),function(e,t){var a=(0,f.g2)("el-button"),n=(0,f.g2)("el-dropdown-item"),r=(0,f.g2)("el-dropdown-menu"),u=(0,f.g2)("el-dropdown"),l=(0,f.g2)("el-input"),s=(0,f.g2)("el-col"),o=(0,f.g2)("el-option"),i=(0,f.g2)("el-select"),c=(0,f.g2)("el-row"),d=(0,f.g2)("el-table-column"),p=(0,f.g2)("el-tag"),k=(0,f.g2)("el-tooltip"),b=(0,f.g2)("el-form-item"),m=(0,f.g2)("el-radio"),S=(0,f.g2)("el-radio-group"),z=(0,f.g2)("el-upload"),_=(0,f.g2)("el-form"),F=(0,f.g2)("el-dialog"),R=(0,f.gN)("loading");return(0,f.uX)(),(0,f.CE)("div",K,[(0,f.Lk)("div",P,[(0,f.Lk)("div",D,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.topNav")),1),(0,f.Lk)("div",E,[(0,f.bF)(a,{type:"primary",onClick:t[0]||(t[0]=function(e){return Mt("qa")})},{icon:(0,f.k6)((function(){return[(0,f.bF)((0,v.R1)(w.A),{type:"pk-plus"})]})),default:(0,f.k6)((function(){return[(0,f.eW)(" "+(0,g.v_)((0,v.R1)(I)("page.organizes.docus.addQa")),1)]})),_:1}),(0,f.bF)(a,{type:"primary",onClick:t[1]||(t[1]=function(e){return Mt("text")})},{icon:(0,f.k6)((function(){return[(0,f.bF)((0,v.R1)(w.A),{type:"pk-plus"})]})),default:(0,f.k6)((function(){return[(0,f.eW)(" "+(0,g.v_)((0,v.R1)(I)("page.organizes.docus.addText")),1)]})),_:1}),je.value?((0,f.uX)(),(0,f.Wv)(a,{key:0,onClick:qt},{icon:(0,f.k6)((function(){return[(0,f.bF)((0,v.R1)(w.A),{type:"pk-quickpage"})]})),default:(0,f.k6)((function(){return[(0,f.eW)(" "+(0,g.v_)((0,v.R1)(I)("page.organizes.docus.batchQuick")),1)]})),_:1})):(0,f.Q3)("",!0),(0,f.bF)(u,null,{dropdown:(0,f.k6)((function(){return[(0,f.bF)(r,null,{default:(0,f.k6)((function(){return[(0,f.bo)(((0,f.uX)(),(0,f.Wv)(n,{disabled:Ge.value,onClick:Nt},{default:(0,f.k6)((function(){return[(0,f.bF)((0,v.R1)(w.A),{class:"mr",type:"pk-batchstop"}),(0,f.eW)(" "+(0,g.v_)((0,v.R1)(I)("page.organizes.docus.batchConfirm")),1)]})),_:1},8,["disabled"])),[[R,tt.value]]),(0,f.bo)(((0,f.uX)(),(0,f.Wv)(n,{disabled:Ye.value,onClick:Et},{default:(0,f.k6)((function(){return[(0,f.bF)((0,v.R1)(w.A),{class:"mr",type:"pk-batchstop"}),(0,f.eW)(" "+(0,g.v_)((0,v.R1)(I)("page.organizes.docus.batchPublish")),1)]})),_:1},8,["disabled"])),[[R,Ze.value]]),(0,f.bo)(((0,f.uX)(),(0,f.Wv)(n,{disabled:$e.value,onClick:Dt},{default:(0,f.k6)((function(){return[(0,f.bF)((0,v.R1)(w.A),{class:"mr",type:"pk-batchpublish"}),(0,f.eW)(" "+(0,g.v_)((0,v.R1)(I)("page.organizes.docus.batchStop")),1)]})),_:1},8,["disabled"])),[[R,et.value]]),(0,f.bo)(((0,f.uX)(),(0,f.Wv)(n,{disabled:Oe.value,onClick:Vt},{default:(0,f.k6)((function(){return[(0,f.bF)((0,v.R1)(w.A),{class:"mr",type:"pk-batchdelete"}),(0,f.eW)(" "+(0,g.v_)((0,v.R1)(I)("page.organizes.docus.batchDel")),1)]})),_:1},8,["disabled"])),[[R,Je.value]])]})),_:1})]})),default:(0,f.k6)((function(){return[(0,f.bF)(a,null,{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.bulkActions"))+" ",1),(0,f.bF)((0,v.R1)(w.A),{class:"ml",type:"arrow-down"})]})),_:1})]})),_:1})])]),Qe.reload?((0,f.uX)(),(0,f.Wv)(y.A,{key:0,ref_key:"screenTableRef",ref:rt,"row-key":"docId",data:Qe.list,loading:Qe.loading,pagination:Qe.pagination,onHandleSelection:Be},{header:(0,f.k6)((function(){return[(0,f.bF)(c,{onKeydown:(0,h.jR)(Kt,["enter"])},{default:(0,f.k6)((function(){return[(0,f.bF)(s,{span:4},{default:(0,f.k6)((function(){return[(0,f.Lk)("span",V,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.th-s-name")),1),(0,f.bF)(l,{class:"th-s-input",modelValue:It.docName,"onUpdate:modelValue":t[2]||(t[2]=function(e){return It.docName=e}),placeholder:(0,v.R1)(I)("page.organizes.docus.th-s-name-holder")},null,8,["modelValue","placeholder"])]})),_:1}),(0,f.bF)(s,{span:4,class:"text-align-right"},{default:(0,f.k6)((function(){return[(0,f.Lk)("span",U,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.th-s-lang")),1),(0,f.bF)(i,{class:"th-s-input w200",modelValue:It.docLang,"onUpdate:modelValue":t[3]||(t[3]=function(e){return It.docLang=e})},{default:(0,f.k6)((function(){return[((0,f.uX)(!0),(0,f.CE)(f.FK,null,(0,f.pI)((0,v.R1)(Pe),(function(e){return(0,f.uX)(),(0,f.Wv)(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,f.bF)(s,{span:4},{default:(0,f.k6)((function(){return[(0,f.Lk)("span",Q,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.th-s-status")),1),(0,f.bF)(i,{class:"th-s-input",modelValue:It.state,"onUpdate:modelValue":t[4]||(t[4]=function(e){return It.state=e})},{default:(0,f.k6)((function(){return[((0,f.uX)(!0),(0,f.CE)(f.FK,null,(0,f.pI)((0,v.R1)(De),(function(e){return(0,f.uX)(),(0,f.Wv)(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,f.bF)(s,{span:4},{default:(0,f.k6)((function(){return[(0,f.Lk)("span",H,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.th-s-tags")),1),(0,f.bF)(i,{class:"th-s-input",modelValue:It.docTags,"onUpdate:modelValue":t[5]||(t[5]=function(e){return It.docTags=e}),clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:(0,v.R1)(I)("page.organizes.docus.th-s-tags-holder")},{default:(0,f.k6)((function(){return[((0,f.uX)(!0),(0,f.CE)(f.FK,null,(0,f.pI)(Rt.value,(function(e){return(0,f.uX)(),(0,f.Wv)(o,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder"])]})),_:1}),(0,f.bF)(s,{span:4},{default:(0,f.k6)((function(){return[(0,f.Lk)("span",N,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.th-s-type")),1),(0,f.bF)(i,{class:"th-s-input",modelValue:It.docType,"onUpdate:modelValue":t[6]||(t[6]=function(e){return It.docType=e})},{default:(0,f.k6)((function(){return[((0,f.uX)(!0),(0,f.CE)(f.FK,null,(0,f.pI)((0,v.R1)(Ee),(function(e){return(0,f.uX)(),(0,f.Wv)(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,f.bF)(s,{span:4},{default:(0,f.k6)((function(){return[(0,f.Lk)("div",q,[(0,f.bF)(a,{class:"th-s-button color-huge border-huge",onClick:Pt},{icon:(0,f.k6)((function(){return[(0,f.bF)((0,v.R1)(w.A),{type:"pk-refresh"})]})),default:(0,f.k6)((function(){return[(0,f.eW)(" "+(0,g.v_)((0,v.R1)(I)("page.organizes.docus.th-s-reset")),1)]})),_:1}),(0,f.bF)(a,{class:"th-s-button",type:"primary",onClick:Kt},{icon:(0,f.k6)((function(){return[(0,f.bF)((0,v.R1)(w.A),{type:"pk-search"})]})),default:(0,f.k6)((function(){return[(0,f.eW)(" "+(0,g.v_)((0,v.R1)(I)("page.organizes.docus.th-s")),1)]})),_:1})])]})),_:1})]})),_:1})]})),default:(0,f.k6)((function(){return[(0,f.bF)(d,{type:"selection",width:"46",selectable:ta}),(0,f.bF)(d,{type:"index",width:"66",label:(0,v.R1)(I)("page.organizes.docus.tb-label-no")},null,8,["label"]),(0,f.bF)(d,{label:(0,v.R1)(I)("page.organizes.docus.tb-label-name"),prop:"docName","min-width":"220"},null,8,["label"]),(0,f.bF)(d,{label:(0,v.R1)(I)("page.organizes.docus.tb-label-lang"),prop:"lang",width:"160"},null,8,["label"]),(0,f.bF)(d,{label:(0,v.R1)(I)("page.organizes.docus.tb-label-tags"),width:"140"},{default:(0,f.k6)((function(e){var t=e.row;return[((0,f.uX)(!0),(0,f.CE)(f.FK,null,(0,f.pI)(t.tags,(function(e){return(0,f.uX)(),(0,f.Wv)(p,{class:"tag-tool",type:"info",key:e},{default:(0,f.k6)((function(){return[(0,f.bF)(L.A,{content:e,placement:"left"},null,8,["content"])]})),_:2},1024)})),128))]})),_:1},8,["label"]),(0,f.bF)(d,{label:(0,v.R1)(I)("page.organizes.docus.tb-label-type"),prop:"type",width:"86"},{default:(0,f.k6)((function(e){var t=e.row;return[(0,f.bF)(p,{type:"info"},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)(t.type),1)]})),_:2},1024)]})),_:1},8,["label"]),(0,f.bF)(d,{label:(0,v.R1)(I)("page.organizes.docus.tb-label-status"),width:"160"},{default:(0,f.k6)((function(e){var t=e.row;return[(0,f.bF)(p,{class:(0,g.C4)("state"+t.translateState),type:Ct[t.translateState]||"info"},{default:(0,f.k6)((function(){return[3!==t.translateState?((0,f.uX)(),(0,f.CE)(f.FK,{key:0},[(0,f.eW)((0,g.v_)((0,v.R1)(We)[t.translateState]),1)],64)):((0,f.uX)(),(0,f.Wv)(k,{key:1,content:ht[t.parserDetail]||t.parserDetail,effect:"light",placement:"top"},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(We)[t.translateState]),1)]})),_:2},1032,["content"]))]})),_:2},1032,["class","type"])]})),_:1},8,["label"]),(0,f.bF)(d,{label:(0,v.R1)(I)("page.organizes.docus.tb-label-createtime"),prop:"createTime",width:"166"},null,8,["label"]),(0,f.bF)(d,{label:(0,v.R1)(I)("page.organizes.docus.tb-label-updatetime"),prop:"updateTime",width:"166"},null,8,["label"]),(0,f.bF)(d,{fixed:"right",label:(0,v.R1)(I)("page.organizes.docus.tb-label-actions"),prop:"action",width:"240"},{default:(0,f.k6)((function(e){var t=e.row,n=e.$index;return[(0,f.Lk)("div",M,[2!=t.docType&&t.translateState>=2?((0,f.uX)(),(0,f.Wv)(a,{key:0,class:"color-huge",type:"primary",text:"",onClick:function(e){return Ot(t)}},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.actionPreview")),1)]})),_:2},1032,["onClick"])):(0,f.Q3)("",!0),4===(0,v.R1)(Ve)(t.state,t.parserState)||5===(0,v.R1)(Ve)(t.state,t.parserState)?((0,f.uX)(),(0,f.Wv)(a,{key:1,class:"color-huge",type:"primary",text:"",onClick:function(e){return Bt(t)}},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.actionEdit")),1)]})),_:2},1032,["onClick"])):(0,f.Q3)("",!0),3===(0,v.R1)(Ve)(t.state,t.parserState)?((0,f.uX)(),(0,f.Wv)(a,{key:2,class:"color-huge",type:"primary",text:"",onClick:function(e){return Yt(t)},loading:t.reParseLoading},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.actionParser")),1)]})),_:2},1032,["onClick","loading"])):(0,f.Q3)("",!0),2==t.docType||4!==(0,v.R1)(Ve)(t.state,t.parserState)&&5!==(0,v.R1)(Ve)(t.state,t.parserState)&&8!==(0,v.R1)(Ve)(t.state,t.parserState)?(0,f.Q3)("",!0):((0,f.uX)(),(0,f.Wv)(a,{key:3,class:"color-huge",type:"primary",onClick:function(e){return Gt(t)},text:""},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.actionConfirm")),1)]})),_:2},1032,["onClick"])),2!=t.docType&&5===(0,v.R1)(Ve)(t.state,t.parserState)?((0,f.uX)(),(0,f.Wv)(a,{key:4,class:"color-huge",type:"primary",onClick:function(e){return $t(t)},text:""},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.actionSplit")),1)]})),_:2},1032,["onClick"])):(0,f.Q3)("",!0),t.hide||5!==t.translateState&&7!==t.translateState&&8!==t.translateState?(0,f.Q3)("",!0):((0,f.uX)(),(0,f.Wv)(a,{key:5,loading:t.publishLoading||7===t.translateState,class:"color-huge",type:"primary",onClick:function(e){return Zt(t)},text:""},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.actionPublish")),1)]})),_:2},1032,["loading","onClick"])),6===(0,v.R1)(Ve)(t.state,t.parserState)?((0,f.uX)(),(0,f.Wv)(a,{key:6,class:"color-huge",type:"primary",onClick:function(e){return ea(t)},text:""},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.actionStop")),1)]})),_:2},1032,["onClick"])):(0,f.Q3)("",!0),2!==t.translateState&&0!==t.translateState?((0,f.uX)(),(0,f.Wv)(a,{key:7,type:"info",text:"",loading:t.delLoading,onClick:function(e){return ca(n,t)}},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.actionDel")),1)]})),_:2},1032,["loading","onClick"])):(0,f.Q3)("",!0)])]})),_:1},8,["label"])]})),_:1},8,["data","loading","pagination"])):((0,f.uX)(),(0,f.Wv)(x.A,{key:1})),(0,f.bo)(((0,f.uX)(),(0,f.Wv)(F,{modelValue:st.value,"onUpdate:modelValue":t[12]||(t[12]=function(e){return st.value=e}),title:(0,v.R1)(I)("page.organizes.docus.addDialogTitle"),width:"1024","close-on-click-modal":!1},{footer:(0,f.k6)((function(){return[(0,f.Lk)("div",fe,[(0,f.bF)(a,{onClick:t[11]||(t[11]=function(e){return st.value=!1})},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.buttonCancel")),1)]})),_:1}),(0,f.bo)(((0,f.uX)(),(0,f.Wv)(a,{disabled:0===ft.value.length,type:"primary",onClick:ia},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.buttonSubmit")),1)]})),_:1},8,["disabled"])),[[R,it.value]])])]})),default:(0,f.k6)((function(){return[(0,f.Lk)("div",B,[(0,f.Lk)("div",j,[(0,f.bF)(_,{model:ot.value,rules:dt,ref_key:"uploadFormRef",ref:ct,class:"uploadForm",onSubmit:t[10]||(t[10]=(0,h.D$)((function(){}),["prevent"]))},{default:(0,f.k6)((function(){return[(0,f.bF)(b,{label:(0,v.R1)(I)("page.organizes.docus.tb-label-type"),"label-position":"left",prop:"type"},{default:(0,f.k6)((function(){return["2"===ot.value.type?((0,f.uX)(),(0,f.CE)("div",O,[(0,f.Lk)("a",{class:"ml",href:vt.value,target:"_blank"},(0,g.v_)((0,v.R1)(I)("page.organizes.docus.downloadQALink")),9,Y)])):(0,f.Q3)("",!0)]})),_:1},8,["label"]),(0,f.bF)(b,{"label-width":0},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)(ot.value.typeStr),1)]})),_:1}),(0,f.bF)(b,{label:(0,v.R1)(I)("page.organizes.docus.tb-label-lang"),"label-position":"top",prop:"lang"},null,8,["label"]),(0,f.bF)(b,{"label-width":0},{default:(0,f.k6)((function(){return[(0,f.bF)(S,{modelValue:ot.value.lang,"onUpdate:modelValue":t[7]||(t[7]=function(e){return ot.value.lang=e}),name:"lang"},{default:(0,f.k6)((function(){return[((0,f.uX)(!0),(0,f.CE)(f.FK,null,(0,f.pI)(Wt.value,(function(e){return(0,f.uX)(),(0,f.Wv)(m,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,f.bF)(b,{"label-position":"left",label:(0,v.R1)(I)("page.organizes.docus.tb-label-tags")},{default:(0,f.k6)((function(){return[(0,f.Lk)("span",$,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.dialogTagHint")),1)]})),_:1},8,["label"]),(0,f.bF)(b,{"label-width":0},{default:(0,f.k6)((function(){return[(0,f.bF)(i,{class:"select-tags",modelValue:ot.value.tags,"onUpdate:modelValue":t[8]||(t[8]=function(e){return ot.value.tags=e}),multiple:"",clearable:"",filterable:"","allow-create":"","default-first-option":"","multiple-limit":5,"reserve-keyword":!1,onKeyup:(0,h.jR)(Ht,["enter"]),onBlur:Ht,onChange:Qt,onInput:Ut,style:{flex:"1"},placeholder:"Please select or enter tags"},{default:(0,f.k6)((function(){return[(0,f.Lk)("div",G,[((0,f.uX)(!0),(0,f.CE)(f.FK,null,(0,f.pI)(Ft.value,(function(e){return(0,f.uX)(),(0,f.Wv)(o,{key:e,label:e,value:e},null,8,["label","value"])})),128))])]})),_:1},8,["modelValue"])]})),_:1}),(0,f.bF)(b,{class:"uploadForm-upload"},{default:(0,f.k6)((function(){return[(0,f.bF)(z,{"file-list":ft.value,"onUpdate:fileList":t[9]||(t[9]=function(e){return ft.value=e}),accept:"2"===ot.value.type?".xlsx":".pptx,.pdf,.md,.docx,.txt","show-file-list":!1,drag:"",multiple:"",limit:10,"before-upload":na,"on-exceed":ra,"http-request":ua},{default:(0,f.k6)((function(){return[(0,f.Lk)("div",J,[(0,f.Lk)("div",Z,[(0,f.bF)((0,v.R1)(w.A),{type:"pk-addplus"}),(0,f.Lk)("div",ee,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.uploadText")),1),(0,f.Lk)("div",te,["1"===ot.value.type?((0,f.uX)(),(0,f.CE)("span",ae,"Supports docx、pdf、md、txt | ")):((0,f.uX)(),(0,f.CE)("span",ne,"Supports xlsx | ")),(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.uploadHint")),1)])])])]})),_:1},8,["file-list","accept"])]})),_:1})]})),_:1},8,["model","rules"])]),(0,f.Lk)("div",re,[(0,f.Lk)("div",ue,[(0,f.Lk)("div",le,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.uploadProgressTitle")),1),(0,f.Lk)("div",se,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.uploadProgressHint")),1)]),((0,f.uX)(!0),(0,f.CE)(f.FK,null,(0,f.pI)(ft.value,(function(e,t){return(0,f.uX)(),(0,f.CE)("div",{class:"upload-file-list",key:e.name},[(0,f.Lk)("div",oe,[(0,f.bF)((0,v.R1)(w.A),{type:aa(e),class:"w24 h24 wh24"},null,8,["type"])]),(0,f.Lk)("div",ie,[(0,f.Lk)("div",ce,[(0,f.bF)(L.A,{content:e.name,placement:"top"},null,8,["content"])]),(0,f.Lk)("div",de,(0,g.v_)((e.size/1024).toFixed(2))+"kb ",1)]),(0,f.Lk)("div",pe,[(0,f.bF)((0,v.R1)(w.A),{type:"pk-delete",class:"wh16",onClick:function(e){return la(t)}},null,8,["onClick"])])])})),128))])])]})),_:1},8,["modelValue","title"])),[[R,it.value]]),(0,f.bF)(F,{modelValue:ut.value,"onUpdate:modelValue":t[18]||(t[18]=function(e){return ut.value=e}),title:(0,v.R1)(I)("page.organizes.docus.editDialogTitle"),width:"600","close-on-click-modal":!1},{footer:(0,f.k6)((function(){return[(0,f.Lk)("div",ve,[(0,f.bF)(a,{onClick:t[17]||(t[17]=function(e){return ut.value=!1})},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.buttonCancel")),1)]})),_:1}),(0,f.bF)(a,{type:"primary",onClick:jt},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)((0,v.R1)(I)("page.organizes.docus.buttonSubmit")),1)]})),_:1})])]})),default:(0,f.k6)((function(){return[(0,f.bF)(_,{model:lt,rules:dt,ref:"editFormRef","label-position":"top",onSubmit:t[16]||(t[16]=(0,h.D$)((function(){}),["prevent"]))},{default:(0,f.k6)((function(){return[(0,f.bF)(b,{label:(0,v.R1)(I)("page.organizes.docus.tb-label-name"),prop:"name"},{default:(0,f.k6)((function(){return[(0,f.bF)(l,{maxlength:"100",modelValue:lt.name,"onUpdate:modelValue":t[13]||(t[13]=function(e){return lt.name=e}),placeholder:(0,v.R1)(I)("page.organizes.docus.editHolder"),name:"name"},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,f.bF)(b,{label:(0,v.R1)(I)("page.organizes.docus.tb-label-lang"),prop:"lang"},{default:(0,f.k6)((function(){return[(0,f.bF)(S,{modelValue:lt.lang,"onUpdate:modelValue":t[14]||(t[14]=function(e){return lt.lang=e}),name:"lang"},{default:(0,f.k6)((function(){return[((0,f.uX)(!0),(0,f.CE)(f.FK,null,(0,f.pI)(Wt.value,(function(e){return(0,f.uX)(),(0,f.Wv)(m,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1},8,["label"]),(0,f.bF)(b,{class:"edit-form",label:(0,v.R1)(I)("page.organizes.docus.tb-label-tags")},{default:(0,f.k6)((function(){return[(0,f.bF)(i,{modelValue:lt.tags,"onUpdate:modelValue":t[15]||(t[15]=function(e){return lt.tags=e}),multiple:"",clearable:"",filterable:"","allow-create":"","default-first-option":"","multiple-limit":5,"reserve-keyword":!1,onKeyup:(0,h.jR)(Ht,["enter"]),onBlur:Ht,onChange:Qt,onInput:Ut,style:{flex:"1"},placeholder:"Please select or enter tags"},{default:(0,f.k6)((function(){return[(0,f.Lk)("div",ge,[((0,f.uX)(!0),(0,f.CE)(f.FK,null,(0,f.pI)(Ft.value,(function(e){return(0,f.uX)(),(0,f.Wv)(o,{key:e,label:e,value:e},null,8,["label","value"])})),128))])]})),_:1},8,["modelValue"])]})),_:1},8,["label"])]})),_:1},8,["model","rules"])]})),_:1},8,["modelValue","title"]),(0,f.bo)((0,f.Lk)("div",{class:(0,g.C4)(["upload-state",gt.type])},[(0,f.Lk)("div",he,[ke,(0,f.Lk)("div",be,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.uploadStateTitle")),1),(0,f.Lk)("div",me,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.uploadStateSuccess",{successCount:gt.success})),1),(0,f.Lk)("div",we,(0,g.v_)((0,v.R1)(I)("page.organizes.docus.uploadStateFail",{failCount:gt.fail})),1),(0,f.Lk)("div",ye,["expand"===gt.type?((0,f.uX)(),(0,f.Wv)((0,v.R1)(w.A),{key:0,type:"pk-shrink",class:"wh16",onClick:t[19]||(t[19]=function(e){return gt.type="expanded"})})):((0,f.uX)(),(0,f.Wv)((0,v.R1)(w.A),{key:1,type:"pk-expand",class:"wh16",onClick:t[20]||(t[20]=function(e){return gt.type="expand"})})),(0,f.bF)((0,v.R1)(w.A),{type:"pk-knowclose",class:"wh16",onClick:t[21]||(t[21]=function(e){return gt.show=!1})})])]),"expand"!==gt.type?((0,f.uX)(),(0,f.CE)("div",xe,[((0,f.uX)(!0),(0,f.CE)(f.FK,null,(0,f.pI)(gt.fileList,(function(e,t){return(0,f.uX)(),(0,f.CE)(f.FK,{key:e},[e?((0,f.uX)(),(0,f.CE)("div",{key:0,class:(0,g.C4)(["upload-state-list",3===(0,v.R1)(Ve)(e.state,e.parserState)?"red":""])},[(0,f.Lk)("div",Ae,[(0,f.bF)((0,v.R1)(w.A),{type:aa(e),class:"w24 h24 wh24"},null,8,["type"])]),(0,f.Lk)("div",Le,[(0,f.Lk)("div",Se,[(0,f.bF)(L.A,{content:e.name,placement:"top"},null,8,["content"])]),(0,f.Lk)("div",ze,(0,g.v_)((e.size/1024).toFixed(2))+"kb ",1),(0,f.Lk)("div",_e,(0,g.v_)(e.uploadedAt),1)]),(0,f.Lk)("div",{class:(0,g.C4)(["state",{red:e.error}])},[(0,f.bF)(k,{content:e.error,effect:"light"},{default:(0,f.k6)((function(){return[(0,f.eW)((0,g.v_)(e.error?(0,v.R1)(I)("page.organizes.docus.uploadFail"):(0,v.R1)(We)[(0,v.R1)(Ve)(e.state,e.parserState)]),1)]})),_:2},1032,["content"])],2),(0,f.Lk)("div",Fe,[(0,f.bF)((0,v.R1)(w.A),{type:"pk-delete",class:"wh16",onClick:function(e){return sa(t)}},null,8,["onClick"])])],2)):(0,f.Q3)("",!0)],64)})),128))])):(0,f.Q3)("",!0)],2),[[h.aG,gt.show]]),(0,f.bF)(F,{title:pt.docName,width:"50vw",modelValue:pt.show,"onUpdate:modelValue":t[22]||(t[22]=function(e){return pt.show=e})},{default:(0,f.k6)((function(){return[(0,f.Lk)("div",Re,[(0,f.bF)(A.A,{uuid:pt.uuid,history:pt.history,sourceUrl:pt.sourceUrl},null,8,["uuid","history","sourceUrl"])])]})),_:1},8,["title","modelValue"])])}}}),Te=a(83940);const Ie=(0,Te.A)(Ce,[["__scopeId","data-v-5b60a427"]]);var We=Ie}}]);